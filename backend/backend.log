2026-01-15 06:57:50,753 - main - INFO - ==================================================
2026-01-15 06:57:50,753 - main - INFO - Starting Kraftd Docs Backend
2026-01-15 06:57:50,753 - main - INFO - ==================================================
2026-01-15 06:57:51,200 - main - INFO - ==================================================
2026-01-15 06:57:51,200 - main - INFO - Startup completed successfully
2026-01-15 06:57:51,200 - main - INFO - ==================================================
2026-01-15 06:58:14,965 - main - INFO - Shutting down Kraftd Docs Backend
2026-01-15 06:58:32,397 - main - INFO - ==================================================
2026-01-15 06:58:32,398 - main - INFO - Starting Kraftd Docs Backend
2026-01-15 06:58:32,398 - main - INFO - ==================================================
2026-01-15 06:58:32,398 - main - INFO - [OK] Azure Document Intelligence is configured
2026-01-15 06:58:32,554 - main - INFO - [OK] Azure service initialized
2026-01-15 06:58:32,554 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-15 06:58:32,554 - main - INFO - [OK] Upload directory is writable
2026-01-15 06:58:32,555 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-15 06:58:32,555 - main - INFO - ==================================================
2026-01-15 06:58:32,555 - main - INFO - Startup completed successfully
2026-01-15 06:58:32,555 - main - INFO - ==================================================
2026-01-15 06:58:57,739 - main - INFO - Shutting down Kraftd Docs Backend
2026-01-15 06:59:12,306 - main - INFO - ==================================================
2026-01-15 06:59:12,306 - main - INFO - Starting Kraftd Docs Backend
2026-01-15 06:59:12,306 - main - INFO - ==================================================
2026-01-15 06:59:12,306 - main - INFO - [OK] Azure Document Intelligence is configured
2026-01-15 06:59:12,499 - main - INFO - [OK] Azure service initialized
2026-01-15 06:59:12,500 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-15 06:59:12,500 - main - INFO - [OK] Upload directory is writable
2026-01-15 06:59:12,500 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-15 06:59:12,500 - main - INFO - ==================================================
2026-01-15 06:59:12,500 - main - INFO - Startup completed successfully
2026-01-15 06:59:12,501 - main - INFO - ==================================================
2026-01-15 06:59:41,593 - main - INFO - Uploading document: test_document.pdf
2026-01-15 06:59:41,595 - main - INFO - Document saved: 3bd03293-8267-4c0f-90b5-1dc6a893dd2c, size: 2265 bytes, type: pdf
2026-01-15 06:59:41,596 - main - INFO - Document registered: 3bd03293-8267-4c0f-90b5-1dc6a893dd2c
2026-01-15 06:59:47,145 - main - INFO - Extracting intelligence for document: 3bd03293-8267-4c0f-90b5-1dc6a893dd2c
2026-01-15 06:59:47,145 - main - INFO - Processing pdf document
2026-01-15 06:59:47,244 - main - INFO - Starting extraction pipeline...
2026-01-15 06:59:47,263 - main - INFO - Pipeline completed successfully
2026-01-15 06:59:47,264 - main - INFO - Document 3bd03293-8267-4c0f-90b5-1dc6a893dd2c extraction complete in 118ms
2026-01-15 06:59:47,264 - main - INFO -   - Type: RFQ
2026-01-15 06:59:47,265 - main - INFO -   - Completeness: 66.66666666666666%
2026-01-15 06:59:47,265 - main - INFO -   - Quality: 100%
2026-01-15 06:59:47,267 - main - ERROR - Extraction failed for 3bd03293-8267-4c0f-90b5-1dc6a893dd2c: Object of type datetime is not JSON serializable
Traceback (most recent call last):
  File "C:\Users\1R6\OneDrive\Project Catalyst\KraftdIntel\backend\main.py", line 302, in extract_intelligence
    return JSONResponse({
        "document_id": document_id,
    ...<16 lines>...
        "document": kraftd_document.dict()
    })
  File "C:\Users\1R6\OneDrive\Project Catalyst\KraftdIntel\backend\.venv\Lib\site-packages\starlette\responses.py", line 189, in __init__
    super().__init__(content, status_code, headers, media_type, background)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\1R6\OneDrive\Project Catalyst\KraftdIntel\backend\.venv\Lib\site-packages\starlette\responses.py", line 46, in __init__
    self.body = self.render(content)
                ~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\1R6\OneDrive\Project Catalyst\KraftdIntel\backend\.venv\Lib\site-packages\starlette\responses.py", line 192, in render
    return json.dumps(
           ~~~~~~~~~~^
        content,
        ^^^^^^^^
    ...<3 lines>...
        separators=(",", ":"),
        ^^^^^^^^^^^^^^^^^^^^^^
    ).encode("utf-8")
    ^
  File "C:\Users\1R6\AppData\Local\Programs\Python\Python313\Lib\json\__init__.py", line 238, in dumps
    **kw).encode(obj)
          ~~~~~~^^^^^
  File "C:\Users\1R6\AppData\Local\Programs\Python\Python313\Lib\json\encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "C:\Users\1R6\AppData\Local\Programs\Python\Python313\Lib\json\encoder.py", line 261, in iterencode
    return _iterencode(o, 0)
  File "C:\Users\1R6\AppData\Local\Programs\Python\Python313\Lib\json\encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
                    f'is not JSON serializable')
TypeError: Object of type datetime is not JSON serializable
2026-01-15 07:00:39,667 - main - INFO - ==================================================
2026-01-15 07:00:39,668 - main - INFO - Starting Kraftd Docs Backend
2026-01-15 07:00:39,668 - main - INFO - ==================================================
2026-01-15 07:00:39,668 - main - INFO - [OK] Azure Document Intelligence is configured
2026-01-15 07:00:39,833 - main - INFO - [OK] Azure service initialized
2026-01-15 07:00:39,833 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-15 07:00:39,833 - main - INFO - [OK] Upload directory is writable
2026-01-15 07:00:39,834 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-15 07:00:39,834 - main - INFO - ==================================================
2026-01-15 07:00:39,834 - main - INFO - Startup completed successfully
2026-01-15 07:00:39,834 - main - INFO - ==================================================
2026-01-15 07:00:48,241 - main - INFO - Uploading document: test_document.pdf
2026-01-15 07:00:48,242 - main - INFO - Document saved: 30be539c-9a3c-4b2d-b13b-013b25f8fae6, size: 2265 bytes, type: pdf
2026-01-15 07:00:48,242 - main - INFO - Document registered: 30be539c-9a3c-4b2d-b13b-013b25f8fae6
2026-01-15 07:00:53,117 - main - INFO - Extracting intelligence for document: 30be539c-9a3c-4b2d-b13b-013b25f8fae6
2026-01-15 07:00:53,118 - main - INFO - Processing pdf document
2026-01-15 07:00:53,147 - main - INFO - Starting extraction pipeline...
2026-01-15 07:00:53,156 - main - INFO - Pipeline completed successfully
2026-01-15 07:00:53,156 - main - INFO - Document 30be539c-9a3c-4b2d-b13b-013b25f8fae6 extraction complete in 38ms
2026-01-15 07:00:53,157 - main - INFO -   - Type: RFQ
2026-01-15 07:00:53,157 - main - INFO -   - Completeness: 66.66666666666666%
2026-01-15 07:00:53,157 - main - INFO -   - Quality: 100%
2026-01-15 07:00:57,905 - main - INFO - Extracting intelligence for document: 30be539c-9a3c-4b2d-b13b-013b25f8fae6
2026-01-15 07:00:57,905 - main - INFO - Processing pdf document
2026-01-15 07:00:57,926 - main - INFO - Starting extraction pipeline...
2026-01-15 07:00:57,929 - main - INFO - Pipeline completed successfully
2026-01-15 07:00:57,930 - main - INFO - Document 30be539c-9a3c-4b2d-b13b-013b25f8fae6 extraction complete in 24ms
2026-01-15 07:00:57,930 - main - INFO -   - Type: RFQ
2026-01-15 07:00:57,930 - main - INFO -   - Completeness: 66.66666666666666%
2026-01-15 07:00:57,930 - main - INFO -   - Quality: 100%
2026-01-15 07:04:22,013 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-15 07:04:22,041 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-15 07:04:22,041 - main - INFO - ============================================================
2026-01-15 07:04:22,041 - main - INFO - Starting Kraftd Docs Backend
2026-01-15 07:04:22,042 - main - INFO - ============================================================
2026-01-15 07:04:22,042 - main - INFO - Configuration valid - Timeout: 30.0s, Retries: 3
2026-01-15 07:04:22,042 - main - INFO - [OK] Azure Document Intelligence is configured
2026-01-15 07:04:22,262 - main - INFO - [OK] Azure service initialized
2026-01-15 07:04:22,262 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-15 07:04:22,262 - main - INFO - [OK] Upload directory is writable
2026-01-15 07:04:22,262 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-15 07:04:22,262 - main - INFO - ============================================================
2026-01-15 07:04:22,262 - main - INFO - Startup Configuration:
2026-01-15 07:04:22,263 - main - INFO -   Request Timeout: 30.0s
2026-01-15 07:04:22,263 - main - INFO -   Document Processing Timeout: 25.0s
2026-01-15 07:04:22,263 - main - INFO -   Max Retries: 3
2026-01-15 07:04:22,263 - main - INFO -   Rate Limiting: Enabled
2026-01-15 07:04:22,263 - main - INFO -   Metrics: Enabled
2026-01-15 07:04:22,263 - main - INFO - ============================================================
2026-01-15 07:04:22,263 - main - INFO - Startup completed successfully
2026-01-15 07:04:22,263 - main - INFO - ============================================================
2026-01-15 07:05:59,909 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-15 07:05:59,939 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-15 07:05:59,939 - main - INFO - ============================================================
2026-01-15 07:05:59,940 - main - INFO - Starting Kraftd Docs Backend
2026-01-15 07:05:59,940 - main - INFO - ============================================================
2026-01-15 07:05:59,940 - main - INFO - Configuration valid - Timeout: 30.0s, Retries: 3
2026-01-15 07:05:59,941 - main - INFO - [OK] Azure Document Intelligence is configured
2026-01-15 07:06:00,183 - main - INFO - [OK] Azure service initialized
2026-01-15 07:06:00,183 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-15 07:06:00,183 - main - INFO - [OK] Upload directory is writable
2026-01-15 07:06:00,184 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-15 07:06:00,184 - main - INFO - ============================================================
2026-01-15 07:06:00,184 - main - INFO - Startup Configuration:
2026-01-15 07:06:00,184 - main - INFO -   Request Timeout: 30.0s
2026-01-15 07:06:00,184 - main - INFO -   Document Processing Timeout: 25.0s
2026-01-15 07:06:00,184 - main - INFO -   Max Retries: 3
2026-01-15 07:06:00,184 - main - INFO -   Rate Limiting: Enabled
2026-01-15 07:06:00,185 - main - INFO -   Metrics: Enabled
2026-01-15 07:06:00,185 - main - INFO - ============================================================
2026-01-15 07:06:00,185 - main - INFO - Startup completed successfully
2026-01-15 07:06:00,185 - main - INFO - ============================================================
2026-01-15 07:08:42,676 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-15 07:08:56,509 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-15 07:08:56,539 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-15 07:08:56,539 - main - INFO - ============================================================
2026-01-15 07:08:56,539 - main - INFO - Starting Kraftd Docs Backend
2026-01-15 07:08:56,539 - main - INFO - ============================================================
2026-01-15 07:08:56,540 - main - INFO - Configuration valid - Timeout: 30.0s, Retries: 3
2026-01-15 07:08:56,540 - main - INFO - [OK] Azure Document Intelligence is configured
2026-01-15 07:08:56,713 - main - INFO - [OK] Azure service initialized
2026-01-15 07:08:56,713 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-15 07:08:56,713 - main - INFO - [OK] Upload directory is writable
2026-01-15 07:08:56,714 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-15 07:08:56,714 - main - INFO - ============================================================
2026-01-15 07:08:56,714 - main - INFO - Startup Configuration:
2026-01-15 07:08:56,714 - main - INFO -   Request Timeout: 30.0s
2026-01-15 07:08:56,714 - main - INFO -   Document Processing Timeout: 25.0s
2026-01-15 07:08:56,714 - main - INFO -   Max Retries: 3
2026-01-15 07:08:56,714 - main - INFO -   Rate Limiting: Enabled
2026-01-15 07:08:56,714 - main - INFO -   Metrics: Enabled
2026-01-15 07:08:56,714 - main - INFO - ============================================================
2026-01-15 07:08:56,714 - main - INFO - Startup completed successfully
2026-01-15 07:08:56,714 - main - INFO - ============================================================
2026-01-15 07:12:41,780 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-15 07:12:47,493 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-15 07:12:47,523 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-15 07:12:47,524 - main - INFO - ============================================================
2026-01-15 07:12:47,524 - main - INFO - Starting Kraftd Docs Backend
2026-01-15 07:12:47,524 - main - INFO - ============================================================
2026-01-15 07:12:47,524 - main - ERROR - [ERROR] Startup failed: Configuration validation failed
Traceback (most recent call last):
  File "C:\Users\1R6\OneDrive\Project Catalyst\KraftdIntel\backend\main.py", line 77, in startup_event
    raise RuntimeError("Configuration validation failed")
RuntimeError: Configuration validation failed
2026-01-15 07:13:00,688 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-15 07:13:00,724 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-15 07:13:00,725 - main - INFO - ============================================================
2026-01-15 07:13:00,725 - main - INFO - Starting Kraftd Docs Backend
2026-01-15 07:13:00,725 - main - INFO - ============================================================
2026-01-15 07:13:00,725 - main - INFO - Configuration valid - Timeout: 30.0s, Retries: 3
2026-01-15 07:13:00,725 - main - WARNING - [WARN] Azure Document Intelligence is NOT configured
2026-01-15 07:13:00,725 - main - WARNING -       Set DOCUMENTINTELLIGENCE_ENDPOINT and DOCUMENTINTELLIGENCE_API_KEY
2026-01-15 07:13:00,725 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-15 07:13:00,725 - main - INFO - [OK] Upload directory is writable
2026-01-15 07:13:00,726 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-15 07:13:00,726 - main - INFO - ============================================================
2026-01-15 07:13:00,726 - main - INFO - Startup Configuration:
2026-01-15 07:13:00,726 - main - INFO -   Request Timeout: 30.0s
2026-01-15 07:13:00,726 - main - INFO -   Document Processing Timeout: 25.0s
2026-01-15 07:13:00,726 - main - INFO -   Max Retries: 3
2026-01-15 07:13:00,726 - main - INFO -   Rate Limiting: Enabled
2026-01-15 07:13:00,726 - main - INFO -   Metrics: Enabled
2026-01-15 07:13:00,726 - main - INFO - ============================================================
2026-01-15 07:13:00,726 - main - INFO - Startup completed successfully
2026-01-15 07:13:00,726 - main - INFO - ============================================================
2026-01-15 07:17:14,010 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-15 07:17:14,039 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-15 07:17:14,039 - main - INFO - ============================================================
2026-01-15 07:17:14,039 - main - INFO - Starting Kraftd Docs Backend
2026-01-15 07:17:14,040 - main - INFO - ============================================================
2026-01-15 07:17:14,040 - main - INFO - Configuration valid - Timeout: 30.0s, Retries: 3
2026-01-15 07:17:14,040 - main - WARNING - [WARN] Azure Document Intelligence is NOT configured
2026-01-15 07:17:14,041 - main - WARNING -       Set DOCUMENTINTELLIGENCE_ENDPOINT and DOCUMENTINTELLIGENCE_API_KEY
2026-01-15 07:17:14,041 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-15 07:17:14,041 - main - INFO - [OK] Upload directory is writable
2026-01-15 07:17:14,042 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-15 07:17:14,042 - main - INFO - ============================================================
2026-01-15 07:17:14,042 - main - INFO - Startup Configuration:
2026-01-15 07:17:14,042 - main - INFO -   Request Timeout: 30.0s
2026-01-15 07:17:14,042 - main - INFO -   Document Processing Timeout: 25.0s
2026-01-15 07:17:14,042 - main - INFO -   Max Retries: 3
2026-01-15 07:17:14,042 - main - INFO -   Rate Limiting: Enabled
2026-01-15 07:17:14,043 - main - INFO -   Metrics: Enabled
2026-01-15 07:17:14,043 - main - INFO - ============================================================
2026-01-15 07:17:14,043 - main - INFO - Startup completed successfully
2026-01-15 07:17:14,044 - main - INFO - ============================================================
2026-01-15 07:17:36,334 - main - INFO - Shutting down Kraftd Docs Backend
2026-01-15 07:17:36,336 - metrics - INFO - Metrics exported to metrics_export.json
2026-01-15 07:17:47,430 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-15 07:17:47,458 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-15 07:17:47,459 - main - INFO - ============================================================
2026-01-15 07:17:47,459 - main - INFO - Starting Kraftd Docs Backend
2026-01-15 07:17:47,459 - main - INFO - ============================================================
2026-01-15 07:17:47,459 - main - INFO - Configuration valid - Timeout: 30.0s, Retries: 3
2026-01-15 07:17:47,459 - main - WARNING - [WARN] Azure Document Intelligence is NOT configured
2026-01-15 07:17:47,459 - main - WARNING -       Set DOCUMENTINTELLIGENCE_ENDPOINT and DOCUMENTINTELLIGENCE_API_KEY
2026-01-15 07:17:47,460 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-15 07:17:47,460 - main - INFO - [OK] Upload directory is writable
2026-01-15 07:17:47,460 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-15 07:17:47,460 - main - INFO - ============================================================
2026-01-15 07:17:47,460 - main - INFO - Startup Configuration:
2026-01-15 07:17:47,460 - main - INFO -   Request Timeout: 30.0s
2026-01-15 07:17:47,461 - main - INFO -   Document Processing Timeout: 25.0s
2026-01-15 07:17:47,461 - main - INFO -   Max Retries: 3
2026-01-15 07:17:47,461 - main - INFO -   Rate Limiting: Enabled
2026-01-15 07:17:47,461 - main - INFO -   Metrics: Enabled
2026-01-15 07:17:47,461 - main - INFO - ============================================================
2026-01-15 07:17:47,461 - main - INFO - Startup completed successfully
2026-01-15 07:17:47,461 - main - INFO - ============================================================
2026-01-15 07:18:02,258 - main - INFO - Shutting down Kraftd Docs Backend
2026-01-15 07:18:02,260 - metrics - INFO - Metrics exported to metrics_export.json
2026-01-15 07:18:23,314 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-15 07:18:23,344 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-15 07:18:23,344 - main - INFO - ============================================================
2026-01-15 07:18:23,344 - main - INFO - Starting Kraftd Docs Backend
2026-01-15 07:18:23,345 - main - INFO - ============================================================
2026-01-15 07:18:23,345 - main - INFO - Configuration valid - Timeout: 30.0s, Retries: 3
2026-01-15 07:18:23,345 - main - WARNING - [WARN] Azure Document Intelligence is NOT configured
2026-01-15 07:18:23,345 - main - WARNING -       Set DOCUMENTINTELLIGENCE_ENDPOINT and DOCUMENTINTELLIGENCE_API_KEY
2026-01-15 07:18:23,345 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-15 07:18:23,346 - main - INFO - [OK] Upload directory is writable
2026-01-15 07:18:23,346 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-15 07:18:23,346 - main - INFO - ============================================================
2026-01-15 07:18:23,346 - main - INFO - Startup Configuration:
2026-01-15 07:18:23,346 - main - INFO -   Request Timeout: 30.0s
2026-01-15 07:18:23,346 - main - INFO -   Document Processing Timeout: 25.0s
2026-01-15 07:18:23,346 - main - INFO -   Max Retries: 3
2026-01-15 07:18:23,346 - main - INFO -   Rate Limiting: Enabled
2026-01-15 07:18:23,346 - main - INFO -   Metrics: Enabled
2026-01-15 07:18:23,346 - main - INFO - ============================================================
2026-01-15 07:18:23,347 - main - INFO - Startup completed successfully
2026-01-15 07:18:23,347 - main - INFO - ============================================================
2026-01-15 07:22:00,772 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-15 07:22:00,813 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-15 07:22:00,814 - main - INFO - ============================================================
2026-01-15 07:22:00,814 - main - INFO - Starting Kraftd Docs Backend
2026-01-15 07:22:00,814 - main - INFO - ============================================================
2026-01-15 07:22:00,814 - main - INFO - Configuration valid - Timeout: 30.0s, Retries: 3
2026-01-15 07:22:00,815 - main - WARNING - [WARN] Azure Document Intelligence is NOT configured
2026-01-15 07:22:00,815 - main - WARNING -       Set DOCUMENTINTELLIGENCE_ENDPOINT and DOCUMENTINTELLIGENCE_API_KEY
2026-01-15 07:22:00,815 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-15 07:22:00,815 - main - INFO - [OK] Upload directory is writable
2026-01-15 07:22:00,815 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-15 07:22:00,815 - main - INFO - ============================================================
2026-01-15 07:22:00,816 - main - INFO - Startup Configuration:
2026-01-15 07:22:00,816 - main - INFO -   Request Timeout: 30.0s
2026-01-15 07:22:00,816 - main - INFO -   Document Processing Timeout: 25.0s
2026-01-15 07:22:00,817 - main - INFO -   Max Retries: 3
2026-01-15 07:22:00,817 - main - INFO -   Rate Limiting: Enabled
2026-01-15 07:22:00,817 - main - INFO -   Metrics: Enabled
2026-01-15 07:22:00,817 - main - INFO - ============================================================
2026-01-15 07:22:00,818 - main - INFO - Startup completed successfully
2026-01-15 07:22:00,818 - main - INFO - ============================================================
2026-01-15 07:26:04,892 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-15 07:26:04,921 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-15 07:26:04,921 - main - INFO - ============================================================
2026-01-15 07:26:04,921 - main - INFO - Starting Kraftd Docs Backend
2026-01-15 07:26:04,921 - main - INFO - ============================================================
2026-01-15 07:26:04,922 - main - INFO - Configuration valid - Timeout: 30.0s, Retries: 3
2026-01-15 07:26:04,922 - main - WARNING - [WARN] Azure Document Intelligence is NOT configured
2026-01-15 07:26:04,922 - main - WARNING -       Set DOCUMENTINTELLIGENCE_ENDPOINT and DOCUMENTINTELLIGENCE_API_KEY
2026-01-15 07:26:04,922 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-15 07:26:04,923 - main - INFO - [OK] Upload directory is writable
2026-01-15 07:26:04,923 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-15 07:26:04,923 - main - INFO - ============================================================
2026-01-15 07:26:04,923 - main - INFO - Startup Configuration:
2026-01-15 07:26:04,923 - main - INFO -   Request Timeout: 30.0s
2026-01-15 07:26:04,924 - main - INFO -   Document Processing Timeout: 25.0s
2026-01-15 07:26:04,924 - main - INFO -   Max Retries: 3
2026-01-15 07:26:04,924 - main - INFO -   Rate Limiting: Enabled
2026-01-15 07:26:04,924 - main - INFO -   Metrics: Enabled
2026-01-15 07:26:04,924 - main - INFO - ============================================================
2026-01-15 07:26:04,924 - main - INFO - Startup completed successfully
2026-01-15 07:26:04,924 - main - INFO - ============================================================
2026-01-15 07:33:39,295 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-15 07:33:39,328 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-15 07:33:39,329 - main - INFO - ============================================================
2026-01-15 07:33:39,329 - main - INFO - Starting Kraftd Docs Backend
2026-01-15 07:33:39,329 - main - INFO - ============================================================
2026-01-15 07:33:39,329 - main - INFO - Configuration valid - Timeout: 30.0s, Retries: 3
2026-01-15 07:33:39,329 - main - WARNING - [WARN] Azure Document Intelligence is NOT configured
2026-01-15 07:33:39,330 - main - WARNING -       Set DOCUMENTINTELLIGENCE_ENDPOINT and DOCUMENTINTELLIGENCE_API_KEY
2026-01-15 07:33:39,330 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-15 07:33:39,330 - main - INFO - [OK] Upload directory is writable
2026-01-15 07:33:39,330 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-15 07:33:39,330 - main - INFO - ============================================================
2026-01-15 07:33:39,330 - main - INFO - Startup Configuration:
2026-01-15 07:33:39,330 - main - INFO -   Request Timeout: 30.0s
2026-01-15 07:33:39,330 - main - INFO -   Document Processing Timeout: 25.0s
2026-01-15 07:33:39,331 - main - INFO -   Max Retries: 3
2026-01-15 07:33:39,331 - main - INFO -   Rate Limiting: Enabled
2026-01-15 07:33:39,331 - main - INFO -   Metrics: Enabled
2026-01-15 07:33:39,331 - main - INFO - ============================================================
2026-01-15 07:33:39,332 - main - INFO - Startup completed successfully
2026-01-15 07:33:39,332 - main - INFO - ============================================================
2026-01-15 04:44:21,096 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-15 04:44:21,163 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-15 04:44:21,164 - main - INFO - ============================================================
2026-01-15 04:44:21,166 - main - INFO - Starting Kraftd Docs Backend
2026-01-15 04:44:21,167 - main - INFO - ============================================================
2026-01-15 04:44:21,169 - main - INFO - Configuration valid - Timeout: 30.0s, Retries: 3
2026-01-15 04:44:21,170 - main - WARNING - [WARN] Azure Document Intelligence is NOT configured
2026-01-15 04:44:21,171 - main - WARNING -       Set DOCUMENTINTELLIGENCE_ENDPOINT and DOCUMENTINTELLIGENCE_API_KEY
2026-01-15 04:44:21,172 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-15 04:44:21,173 - main - INFO - [OK] Upload directory is writable
2026-01-15 04:44:21,174 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-15 04:44:21,175 - main - INFO - ============================================================
2026-01-15 04:44:21,177 - main - INFO - Startup Configuration:
2026-01-15 04:44:21,178 - main - INFO -   Request Timeout: 30.0s
2026-01-15 04:44:21,179 - main - INFO -   Document Processing Timeout: 25.0s
2026-01-15 04:44:21,180 - main - INFO -   Max Retries: 3
2026-01-15 04:44:21,181 - main - INFO -   Rate Limiting: Enabled
2026-01-15 04:44:21,182 - main - INFO -   Metrics: Enabled
2026-01-15 04:44:21,183 - main - INFO - ============================================================
2026-01-15 04:44:21,185 - main - INFO - Startup completed successfully
2026-01-15 04:44:21,186 - main - INFO - ============================================================
2026-01-15 07:56:23,873 - __main__ - INFO - Rate limiting enabled: 60 req/min
2026-01-15 07:56:31,463 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-15 07:56:37,107 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-15 07:56:37,133 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-15 07:56:37,133 - main - INFO - ============================================================
2026-01-15 07:56:37,133 - main - INFO - Starting Kraftd Docs Backend
2026-01-15 07:56:37,133 - main - INFO - ============================================================
2026-01-15 07:56:37,134 - main - INFO - Configuration valid - Timeout: 30.0s, Retries: 3
2026-01-15 07:56:37,134 - main - WARNING - [WARN] Azure Document Intelligence is NOT configured
2026-01-15 07:56:37,134 - main - WARNING -       Set DOCUMENTINTELLIGENCE_ENDPOINT and DOCUMENTINTELLIGENCE_API_KEY
2026-01-15 07:56:37,134 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-15 07:56:37,134 - main - INFO - [OK] Upload directory is writable
2026-01-15 07:56:37,134 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-15 07:56:37,134 - main - INFO - ============================================================
2026-01-15 07:56:37,134 - main - INFO - Startup Configuration:
2026-01-15 07:56:37,135 - main - INFO -   Request Timeout: 30.0s
2026-01-15 07:56:37,135 - main - INFO -   Document Processing Timeout: 25.0s
2026-01-15 07:56:37,135 - main - INFO -   Max Retries: 3
2026-01-15 07:56:37,135 - main - INFO -   Rate Limiting: Enabled
2026-01-15 07:56:37,135 - main - INFO -   Metrics: Enabled
2026-01-15 07:56:37,135 - main - INFO - ============================================================
2026-01-15 07:56:37,135 - main - INFO - Startup completed successfully
2026-01-15 07:56:37,135 - main - INFO - ============================================================
2026-01-15 05:01:17,591 - main - INFO - Shutting down Kraftd Docs Backend
2026-01-15 05:01:17,600 - metrics - INFO - Metrics exported to metrics_export.json
2026-01-15 05:01:24,375 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-15 05:01:24,457 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-15 05:01:24,458 - main - INFO - ============================================================
2026-01-15 05:01:24,459 - main - INFO - Starting Kraftd Docs Backend
2026-01-15 05:01:24,460 - main - INFO - ============================================================
2026-01-15 05:01:24,461 - main - INFO - Configuration valid - Timeout: 30.0s, Retries: 3
2026-01-15 05:01:24,461 - main - WARNING - [WARN] Azure Document Intelligence is NOT configured
2026-01-15 05:01:24,462 - main - WARNING -       Set DOCUMENTINTELLIGENCE_ENDPOINT and DOCUMENTINTELLIGENCE_API_KEY
2026-01-15 05:01:24,463 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-15 05:01:24,464 - main - INFO - [OK] Upload directory is writable
2026-01-15 05:01:24,464 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-15 05:01:24,465 - main - INFO - ============================================================
2026-01-15 05:01:24,466 - main - INFO - Startup Configuration:
2026-01-15 05:01:24,467 - main - INFO -   Request Timeout: 30.0s
2026-01-15 05:01:24,468 - main - INFO -   Document Processing Timeout: 25.0s
2026-01-15 05:01:24,471 - main - INFO -   Max Retries: 3
2026-01-15 05:01:24,471 - main - INFO -   Rate Limiting: Enabled
2026-01-15 05:01:24,472 - main - INFO -   Metrics: Enabled
2026-01-15 05:01:24,473 - main - INFO - ============================================================
2026-01-15 05:01:24,473 - main - INFO - Startup completed successfully
2026-01-15 05:01:24,474 - main - INFO - ============================================================
2026-01-15 08:03:47,979 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-15 05:03:53,595 - main - INFO - Shutting down Kraftd Docs Backend
2026-01-15 05:03:53,602 - metrics - INFO - Metrics exported to metrics_export.json
2026-01-15 05:04:02,309 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-15 05:04:02,367 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-15 05:04:02,368 - main - INFO - ============================================================
2026-01-15 05:04:02,369 - main - INFO - Starting Kraftd Docs Backend
2026-01-15 05:04:02,369 - main - INFO - ============================================================
2026-01-15 05:04:02,370 - main - INFO - Configuration valid - Timeout: 30.0s, Retries: 3
2026-01-15 05:04:02,370 - main - WARNING - [WARN] Azure Document Intelligence is NOT configured
2026-01-15 05:04:02,370 - main - WARNING -       Set DOCUMENTINTELLIGENCE_ENDPOINT and DOCUMENTINTELLIGENCE_API_KEY
2026-01-15 05:04:02,371 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-15 05:04:02,371 - main - INFO - [OK] Upload directory is writable
2026-01-15 05:04:02,371 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-15 05:04:02,372 - main - INFO - ============================================================
2026-01-15 05:04:02,372 - main - INFO - Startup Configuration:
2026-01-15 05:04:02,372 - main - INFO -   Request Timeout: 30.0s
2026-01-15 05:04:02,372 - main - INFO -   Document Processing Timeout: 25.0s
2026-01-15 05:04:02,373 - main - INFO -   Max Retries: 3
2026-01-15 05:04:02,373 - main - INFO -   Rate Limiting: Enabled
2026-01-15 05:04:02,373 - main - INFO -   Metrics: Enabled
2026-01-15 05:04:02,374 - main - INFO - ============================================================
2026-01-15 05:04:02,374 - main - INFO - Startup completed successfully
2026-01-15 05:04:02,374 - main - INFO - ============================================================
2026-01-15 05:06:22,588 - main - INFO - Uploading document: test_document.pdf
2026-01-15 05:06:22,591 - main - INFO - Document saved: 9d3d42a8-ae88-4543-a521-0265dfc4816b, size: 2257 bytes, type: pdf
2026-01-15 05:06:22,593 - main - INFO - Document registered: 9d3d42a8-ae88-4543-a521-0265dfc4816b
2026-01-15 05:06:27,057 - main - INFO - Extracting intelligence for document: 9d3d42a8-ae88-4543-a521-0265dfc4816b
2026-01-15 05:06:27,057 - main - INFO - Processing pdf document
2026-01-15 05:06:27,082 - main - INFO - Starting extraction pipeline...
2026-01-15 05:06:27,092 - main - INFO - Pipeline completed successfully
2026-01-15 05:06:27,093 - main - INFO - Document 9d3d42a8-ae88-4543-a521-0265dfc4816b extraction complete in 35ms
2026-01-15 05:06:27,093 - main - INFO -   - Type: RFQ
2026-01-15 05:06:27,094 - main - INFO -   - Completeness: 66.66666666666666%
2026-01-15 05:06:27,094 - main - INFO -   - Quality: 100%
2026-01-15 12:31:44,572 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-15 12:31:44,581 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-15 12:31:44,582 - main - INFO - ============================================================
2026-01-15 12:31:44,583 - main - INFO - Starting Kraftd Docs Backend
2026-01-15 12:31:44,583 - main - INFO - ============================================================
2026-01-15 12:31:44,583 - main - INFO - Configuration valid - Timeout: 30.0s, Retries: 3
2026-01-15 12:31:44,584 - main - WARNING - [WARN] Azure Document Intelligence is NOT configured
2026-01-15 12:31:44,584 - main - WARNING -       Set DOCUMENTINTELLIGENCE_ENDPOINT and DOCUMENTINTELLIGENCE_API_KEY
2026-01-15 12:31:44,584 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-15 12:31:44,584 - main - INFO - [OK] Upload directory is writable
2026-01-15 12:31:44,585 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-15 12:31:44,585 - main - INFO - ============================================================
2026-01-15 12:31:44,585 - main - INFO - Startup Configuration:
2026-01-15 12:31:44,585 - main - INFO -   Request Timeout: 30.0s
2026-01-15 12:31:44,585 - main - INFO -   Document Processing Timeout: 25.0s
2026-01-15 12:31:44,585 - main - INFO -   Max Retries: 3
2026-01-15 12:31:44,586 - main - INFO -   Rate Limiting: Enabled
2026-01-15 12:31:44,586 - main - INFO -   Metrics: Enabled
2026-01-15 12:31:44,586 - main - INFO - ============================================================
2026-01-15 12:31:44,586 - main - INFO - Startup completed successfully
2026-01-15 12:31:44,587 - main - INFO - ============================================================
2026-01-15 12:32:53,338 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-15 12:32:53,346 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-15 12:32:53,346 - main - INFO - ============================================================
2026-01-15 12:32:53,346 - main - INFO - Starting Kraftd Docs Backend
2026-01-15 12:32:53,347 - main - INFO - ============================================================
2026-01-15 12:32:53,347 - main - INFO - Configuration valid - Timeout: 30.0s, Retries: 3
2026-01-15 12:32:53,347 - main - WARNING - [WARN] Azure Document Intelligence is NOT configured
2026-01-15 12:32:53,347 - main - WARNING -       Set DOCUMENTINTELLIGENCE_ENDPOINT and DOCUMENTINTELLIGENCE_API_KEY
2026-01-15 12:32:53,347 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-15 12:32:53,347 - main - INFO - [OK] Upload directory is writable
2026-01-15 12:32:53,347 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-15 12:32:53,347 - main - INFO - ============================================================
2026-01-15 12:32:53,347 - main - INFO - Startup Configuration:
2026-01-15 12:32:53,347 - main - INFO -   Request Timeout: 30.0s
2026-01-15 12:32:53,347 - main - INFO -   Document Processing Timeout: 25.0s
2026-01-15 12:32:53,348 - main - INFO -   Max Retries: 3
2026-01-15 12:32:53,348 - main - INFO -   Rate Limiting: Enabled
2026-01-15 12:32:53,348 - main - INFO -   Metrics: Enabled
2026-01-15 12:32:53,348 - main - INFO - ============================================================
2026-01-15 12:32:53,348 - main - INFO - Startup completed successfully
2026-01-15 12:32:53,348 - main - INFO - ============================================================
2026-01-15 12:33:36,171 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-15 12:34:05,752 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-15 12:34:05,761 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-15 12:34:05,762 - main - INFO - ============================================================
2026-01-15 12:34:05,762 - main - INFO - Starting Kraftd Docs Backend
2026-01-15 12:34:05,762 - main - INFO - ============================================================
2026-01-15 12:34:05,762 - main - INFO - Configuration valid - Timeout: 30.0s, Retries: 3
2026-01-15 12:34:05,762 - main - WARNING - [WARN] Azure Document Intelligence is NOT configured
2026-01-15 12:34:05,762 - main - WARNING -       Set DOCUMENTINTELLIGENCE_ENDPOINT and DOCUMENTINTELLIGENCE_API_KEY
2026-01-15 12:34:05,762 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-15 12:34:05,763 - main - INFO - [OK] Upload directory is writable
2026-01-15 12:34:05,763 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-15 12:34:05,763 - main - INFO - ============================================================
2026-01-15 12:34:05,763 - main - INFO - Startup Configuration:
2026-01-15 12:34:05,763 - main - INFO -   Request Timeout: 30.0s
2026-01-15 12:34:05,764 - main - INFO -   Document Processing Timeout: 25.0s
2026-01-15 12:34:05,764 - main - INFO -   Max Retries: 3
2026-01-15 12:34:05,764 - main - INFO -   Rate Limiting: Enabled
2026-01-15 12:34:05,764 - main - INFO -   Metrics: Enabled
2026-01-15 12:34:05,764 - main - INFO - ============================================================
2026-01-15 12:34:05,764 - main - INFO - Startup completed successfully
2026-01-15 12:34:05,764 - main - INFO - ============================================================
2026-01-15 12:34:47,931 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-15 12:34:47,955 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-15 12:34:47,955 - main - INFO - ============================================================
2026-01-15 12:34:47,956 - main - INFO - Starting Kraftd Docs Backend
2026-01-15 12:34:47,956 - main - INFO - ============================================================
2026-01-15 12:34:47,956 - main - INFO - Configuration valid - Timeout: 30.0s, Retries: 3
2026-01-15 12:34:47,956 - main - WARNING - [WARN] Azure Document Intelligence is NOT configured
2026-01-15 12:34:47,957 - main - WARNING -       Set DOCUMENTINTELLIGENCE_ENDPOINT and DOCUMENTINTELLIGENCE_API_KEY
2026-01-15 12:34:47,957 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-15 12:34:47,957 - main - INFO - [OK] Upload directory is writable
2026-01-15 12:34:47,957 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-15 12:34:47,957 - main - INFO - ============================================================
2026-01-15 12:34:47,957 - main - INFO - Startup Configuration:
2026-01-15 12:34:47,957 - main - INFO -   Request Timeout: 30.0s
2026-01-15 12:34:47,957 - main - INFO -   Document Processing Timeout: 25.0s
2026-01-15 12:34:47,957 - main - INFO -   Max Retries: 3
2026-01-15 12:34:47,957 - main - INFO -   Rate Limiting: Enabled
2026-01-15 12:34:47,958 - main - INFO -   Metrics: Enabled
2026-01-15 12:34:47,958 - main - INFO - ============================================================
2026-01-15 12:34:47,958 - main - INFO - Startup completed successfully
2026-01-15 12:34:47,958 - main - INFO - ============================================================
2026-01-15 12:35:15,766 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-15 12:35:24,645 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-15 12:35:24,657 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-15 12:35:24,658 - main - INFO - ============================================================
2026-01-15 12:35:24,658 - main - INFO - Starting Kraftd Docs Backend
2026-01-15 12:35:24,658 - main - INFO - ============================================================
2026-01-15 12:35:24,659 - main - INFO - Configuration valid - Timeout: 30.0s, Retries: 3
2026-01-15 12:35:24,659 - main - WARNING - [WARN] Azure Document Intelligence is NOT configured
2026-01-15 12:35:24,659 - main - WARNING -       Set DOCUMENTINTELLIGENCE_ENDPOINT and DOCUMENTINTELLIGENCE_API_KEY
2026-01-15 12:35:24,659 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-15 12:35:24,660 - main - INFO - [OK] Upload directory is writable
2026-01-15 12:35:24,660 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-15 12:35:24,660 - main - INFO - ============================================================
2026-01-15 12:35:24,660 - main - INFO - Startup Configuration:
2026-01-15 12:35:24,661 - main - INFO -   Request Timeout: 30.0s
2026-01-15 12:35:24,661 - main - INFO -   Document Processing Timeout: 25.0s
2026-01-15 12:35:24,661 - main - INFO -   Max Retries: 3
2026-01-15 12:35:24,661 - main - INFO -   Rate Limiting: Enabled
2026-01-15 12:35:24,661 - main - INFO -   Metrics: Enabled
2026-01-15 12:35:24,661 - main - INFO - ============================================================
2026-01-15 12:35:24,662 - main - INFO - Startup completed successfully
2026-01-15 12:35:24,662 - main - INFO - ============================================================
2026-01-15 12:37:35,140 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-15 12:37:45,917 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-15 12:37:45,924 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-15 12:37:45,925 - main - INFO - ============================================================
2026-01-15 12:37:45,925 - main - INFO - Starting Kraftd Docs Backend
2026-01-15 12:37:45,925 - main - INFO - ============================================================
2026-01-15 12:37:45,925 - main - INFO - Configuration valid - Timeout: 30.0s, Retries: 3
2026-01-15 12:37:45,925 - main - WARNING - [WARN] Azure Document Intelligence is NOT configured
2026-01-15 12:37:45,925 - main - WARNING -       Set DOCUMENTINTELLIGENCE_ENDPOINT and DOCUMENTINTELLIGENCE_API_KEY
2026-01-15 12:37:45,925 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-15 12:37:45,926 - main - INFO - [OK] Upload directory is writable
2026-01-15 12:37:45,926 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-15 12:37:45,926 - main - INFO - ============================================================
2026-01-15 12:37:45,926 - main - INFO - Startup Configuration:
2026-01-15 12:37:45,926 - main - INFO -   Request Timeout: 30.0s
2026-01-15 12:37:45,926 - main - INFO -   Document Processing Timeout: 25.0s
2026-01-15 12:37:45,926 - main - INFO -   Max Retries: 3
2026-01-15 12:37:45,926 - main - INFO -   Rate Limiting: Enabled
2026-01-15 12:37:45,926 - main - INFO -   Metrics: Enabled
2026-01-15 12:37:45,926 - main - INFO - ============================================================
2026-01-15 12:37:45,926 - main - INFO - Startup completed successfully
2026-01-15 12:37:45,926 - main - INFO - ============================================================
2026-01-15 12:38:42,194 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-15 12:38:42,219 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-15 12:38:42,220 - main - INFO - ============================================================
2026-01-15 12:38:42,220 - main - INFO - Starting Kraftd Docs Backend
2026-01-15 12:38:42,220 - main - INFO - ============================================================
2026-01-15 12:38:42,220 - main - INFO - Configuration valid - Timeout: 30.0s, Retries: 3
2026-01-15 12:38:42,220 - main - WARNING - [WARN] Azure Document Intelligence is NOT configured
2026-01-15 12:38:42,220 - main - WARNING -       Set DOCUMENTINTELLIGENCE_ENDPOINT and DOCUMENTINTELLIGENCE_API_KEY
2026-01-15 12:38:42,221 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-15 12:38:42,221 - main - INFO - [OK] Upload directory is writable
2026-01-15 12:38:42,221 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-15 12:38:42,221 - main - INFO - ============================================================
2026-01-15 12:38:42,221 - main - INFO - Startup Configuration:
2026-01-15 12:38:42,221 - main - INFO -   Request Timeout: 30.0s
2026-01-15 12:38:42,222 - main - INFO -   Document Processing Timeout: 25.0s
2026-01-15 12:38:42,222 - main - INFO -   Max Retries: 3
2026-01-15 12:38:42,222 - main - INFO -   Rate Limiting: Enabled
2026-01-15 12:38:42,222 - main - INFO -   Metrics: Enabled
2026-01-15 12:38:42,223 - main - INFO - ============================================================
2026-01-15 12:38:42,223 - main - INFO - Startup completed successfully
2026-01-15 12:38:42,223 - main - INFO - ============================================================
2026-01-15 12:39:09,722 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-15 12:39:58,559 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-15 12:39:58,573 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-15 12:39:58,574 - main - INFO - ============================================================
2026-01-15 12:39:58,574 - main - INFO - Starting Kraftd Docs Backend
2026-01-15 12:39:58,574 - main - INFO - ============================================================
2026-01-15 12:39:58,574 - main - INFO - Configuration valid - Timeout: 30.0s, Retries: 3
2026-01-15 12:39:58,575 - main - WARNING - [WARN] Azure Document Intelligence is NOT configured
2026-01-15 12:39:58,575 - main - WARNING -       Set DOCUMENTINTELLIGENCE_ENDPOINT and DOCUMENTINTELLIGENCE_API_KEY
2026-01-15 12:39:58,575 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-15 12:39:58,575 - main - INFO - [OK] Upload directory is writable
2026-01-15 12:39:58,576 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-15 12:39:58,576 - main - INFO - ============================================================
2026-01-15 12:39:58,576 - main - INFO - Startup Configuration:
2026-01-15 12:39:58,576 - main - INFO -   Request Timeout: 30.0s
2026-01-15 12:39:58,576 - main - INFO -   Document Processing Timeout: 25.0s
2026-01-15 12:39:58,576 - main - INFO -   Max Retries: 3
2026-01-15 12:39:58,576 - main - INFO -   Rate Limiting: Enabled
2026-01-15 12:39:58,576 - main - INFO -   Metrics: Enabled
2026-01-15 12:39:58,576 - main - INFO - ============================================================
2026-01-15 12:39:58,576 - main - INFO - Startup completed successfully
2026-01-15 12:39:58,576 - main - INFO - ============================================================
2026-01-15 12:40:32,879 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-15 12:40:44,444 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-15 12:40:44,510 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-15 12:40:44,512 - main - INFO - ============================================================
2026-01-15 12:40:44,513 - main - INFO - Starting Kraftd Docs Backend
2026-01-15 12:40:44,514 - main - INFO - ============================================================
2026-01-15 12:40:44,516 - main - INFO - Configuration valid - Timeout: 30.0s, Retries: 3
2026-01-15 12:40:44,517 - main - WARNING - [WARN] Azure Document Intelligence is NOT configured
2026-01-15 12:40:44,517 - main - WARNING -       Set DOCUMENTINTELLIGENCE_ENDPOINT and DOCUMENTINTELLIGENCE_API_KEY
2026-01-15 12:40:44,518 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-15 12:40:44,518 - main - INFO - [OK] Upload directory is writable
2026-01-15 12:40:44,519 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-15 12:40:44,519 - main - INFO - ============================================================
2026-01-15 12:40:44,520 - main - INFO - Startup Configuration:
2026-01-15 12:40:44,520 - main - INFO -   Request Timeout: 30.0s
2026-01-15 12:40:44,520 - main - INFO -   Document Processing Timeout: 25.0s
2026-01-15 12:40:44,521 - main - INFO -   Max Retries: 3
2026-01-15 12:40:44,522 - main - INFO -   Rate Limiting: Enabled
2026-01-15 12:40:44,522 - main - INFO -   Metrics: Enabled
2026-01-15 12:40:44,523 - main - INFO - ============================================================
2026-01-15 12:40:44,524 - main - INFO - Startup completed successfully
2026-01-15 12:40:44,524 - main - INFO - ============================================================
2026-01-15 12:44:18,903 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-15 12:44:37,187 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-15 12:48:54,494 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-15 12:48:54,532 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-15 12:48:54,533 - main - INFO - ============================================================
2026-01-15 12:48:54,533 - main - INFO - Starting Kraftd Docs Backend
2026-01-15 12:48:54,534 - main - INFO - ============================================================
2026-01-15 12:48:54,534 - main - INFO - Configuration valid - Timeout: 30.0s, Retries: 3
2026-01-15 12:48:54,534 - main - WARNING - [WARN] Azure Document Intelligence is NOT configured
2026-01-15 12:48:54,534 - main - WARNING -       Set DOCUMENTINTELLIGENCE_ENDPOINT and DOCUMENTINTELLIGENCE_API_KEY
2026-01-15 12:48:54,535 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-15 12:48:54,535 - main - INFO - [OK] Upload directory is writable
2026-01-15 12:48:54,536 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-15 12:48:54,536 - main - INFO - ============================================================
2026-01-15 12:48:54,536 - main - INFO - Startup Configuration:
2026-01-15 12:48:54,536 - main - INFO -   Request Timeout: 30.0s
2026-01-15 12:48:54,537 - main - INFO -   Document Processing Timeout: 25.0s
2026-01-15 12:48:54,537 - main - INFO -   Max Retries: 3
2026-01-15 12:48:54,537 - main - INFO -   Rate Limiting: Enabled
2026-01-15 12:48:54,537 - main - INFO -   Metrics: Enabled
2026-01-15 12:48:54,538 - main - INFO - ============================================================
2026-01-15 12:48:54,538 - main - INFO - Startup completed successfully
2026-01-15 12:48:54,538 - main - INFO - ============================================================
2026-01-15 12:49:07,250 - main - INFO - ============================================================
2026-01-15 12:49:07,251 - main - INFO - Shutting down Kraftd Docs Backend
2026-01-15 12:49:07,251 - main - INFO - ============================================================
2026-01-15 12:49:07,253 - metrics - INFO - Metrics exported to metrics_export.json
2026-01-15 12:49:07,253 - main - INFO - [OK] Metrics exported successfully
2026-01-15 12:49:20,264 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-15 12:49:20,298 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-15 12:49:20,299 - main - INFO - ============================================================
2026-01-15 12:49:20,299 - main - INFO - Starting Kraftd Docs Backend
2026-01-15 12:49:20,299 - main - INFO - ============================================================
2026-01-15 12:49:20,299 - main - INFO - Configuration valid - Timeout: 30.0s, Retries: 3
2026-01-15 12:49:20,299 - main - WARNING - [WARN] Azure Document Intelligence is NOT configured
2026-01-15 12:49:20,299 - main - WARNING -       Set DOCUMENTINTELLIGENCE_ENDPOINT and DOCUMENTINTELLIGENCE_API_KEY
2026-01-15 12:49:20,299 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-15 12:49:20,299 - main - INFO - [OK] Upload directory is writable
2026-01-15 12:49:20,300 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-15 12:49:20,300 - main - INFO - ============================================================
2026-01-15 12:49:20,300 - main - INFO - Startup Configuration:
2026-01-15 12:49:20,300 - main - INFO -   Request Timeout: 30.0s
2026-01-15 12:49:20,300 - main - INFO -   Document Processing Timeout: 25.0s
2026-01-15 12:49:20,300 - main - INFO -   Max Retries: 3
2026-01-15 12:49:20,301 - main - INFO -   Rate Limiting: Enabled
2026-01-15 12:49:20,301 - main - INFO -   Metrics: Enabled
2026-01-15 12:49:20,301 - main - INFO - ============================================================
2026-01-15 12:49:20,301 - main - INFO - Startup completed successfully
2026-01-15 12:49:20,301 - main - INFO - ============================================================
2026-01-15 13:08:55,945 - root - WARNING - Azure SDK not available. Falling back to environment variables only.
2026-01-15 13:08:55,953 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-18 08:59:10,263 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-18 08:59:10,303 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-18 08:59:10,304 - main - INFO - ============================================================
2026-01-18 08:59:10,304 - main - INFO - Starting Kraftd Docs Backend
2026-01-18 08:59:10,304 - main - INFO - ============================================================
2026-01-18 08:59:10,304 - main - INFO - Configuration valid - Timeout: 30.0s, Retries: 3
2026-01-18 08:59:10,304 - main - INFO - Initializing Azure Cosmos DB...
2026-01-18 08:59:10,304 - services.secrets_manager - INFO - Running in development mode - using environment variables for secrets
2026-01-18 08:59:10,305 - main - WARNING - [WARN] Could not initialize Cosmos DB: Secret 'cosmos-endpoint' not found in Key Vault or environment variables. Set COSMOS_ENDPOINT environment variable or configure AZURE_KEYVAULT_URL.
2026-01-18 08:59:10,305 - main - INFO -       Continuing with fallback mode (in-memory storage)
2026-01-18 08:59:10,305 - main - WARNING - [WARN] Azure Document Intelligence is NOT configured
2026-01-18 08:59:10,305 - main - WARNING -       Set DOCUMENTINTELLIGENCE_ENDPOINT and DOCUMENTINTELLIGENCE_API_KEY
2026-01-18 08:59:10,305 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-18 08:59:10,305 - main - INFO - [OK] Upload directory is writable
2026-01-18 08:59:10,305 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-18 08:59:10,306 - main - INFO - ============================================================
2026-01-18 08:59:10,306 - main - INFO - Startup Configuration:
2026-01-18 08:59:10,306 - main - INFO -   Request Timeout: 30.0s
2026-01-18 08:59:10,306 - main - INFO -   Document Processing Timeout: 25.0s
2026-01-18 08:59:10,306 - main - INFO -   Max Retries: 3
2026-01-18 08:59:10,306 - main - INFO -   Rate Limiting: Enabled
2026-01-18 08:59:10,306 - main - INFO -   Metrics: Enabled
2026-01-18 08:59:10,306 - main - INFO -   Cosmos DB: Fallback mode
2026-01-18 08:59:10,306 - main - INFO - ============================================================
2026-01-18 08:59:10,306 - main - INFO - Startup completed successfully
2026-01-18 08:59:10,306 - main - INFO - ============================================================
2026-01-18 08:59:17,931 - main - INFO - ============================================================
2026-01-18 08:59:17,931 - main - INFO - Shutting down Kraftd Docs Backend
2026-01-18 08:59:17,931 - main - INFO - ============================================================
2026-01-18 08:59:17,933 - metrics - INFO - Metrics exported to metrics_export.json
2026-01-18 08:59:17,933 - main - INFO - [OK] Metrics exported successfully
2026-01-18 08:59:40,646 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-18 08:59:40,678 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-18 08:59:40,678 - main - INFO - ============================================================
2026-01-18 08:59:40,678 - main - INFO - Starting Kraftd Docs Backend
2026-01-18 08:59:40,678 - main - INFO - ============================================================
2026-01-18 08:59:40,679 - main - INFO - Configuration valid - Timeout: 30.0s, Retries: 3
2026-01-18 08:59:40,679 - main - INFO - Initializing Azure Cosmos DB...
2026-01-18 08:59:40,679 - services.secrets_manager - INFO - Running in development mode - using environment variables for secrets
2026-01-18 08:59:40,679 - services.cosmos_service - INFO - Initializing Cosmos DB connection...
2026-01-18 08:59:40,711 - azure.cosmos._cosmos_http_logging_policy - INFO - Request URL: 'https://localhost:8081/'
Request method: 'GET'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': '2020-07-15'
    'x-ms-documentdb-query-iscontinuationexpected': 'False'
    'x-ms-cosmos-sdk-supportedcapabilities': '1'
    'x-ms-activity-id': '1946b6b6-bab3-47ea-be09-60fb0b8b737a'
    'x-ms-date': 'Sun, 18 Jan 2026 05:59:40 GMT'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-client-id': '99c55f20-86d4-435e-b2a5-13f986d8873a'
    'x-ms-thinclient-proxy-resource-type': 'databaseaccount'
    'x-ms-thinclient-proxy-operation-type': 'Read'
    'Content-Length': '0'
    'User-Agent': 'azsdk-python-cosmos/4.14.5 Python/3.13.9 (Windows-11-10.0.26200-SP0)'
No body was attached to the request
2026-01-18 08:59:44,776 - azure.cosmos._cosmos_http_logging_policy - INFO - Request URL: 'https://localhost:8081/'
Request method: 'GET'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': '2020-07-15'
    'x-ms-documentdb-query-iscontinuationexpected': 'False'
    'x-ms-cosmos-sdk-supportedcapabilities': '1'
    'x-ms-activity-id': '1946b6b6-bab3-47ea-be09-60fb0b8b737a'
    'x-ms-date': 'Sun, 18 Jan 2026 05:59:40 GMT'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-client-id': '99c55f20-86d4-435e-b2a5-13f986d8873a'
    'x-ms-thinclient-proxy-resource-type': 'databaseaccount'
    'x-ms-thinclient-proxy-operation-type': 'Read'
    'Content-Length': '0'
    'User-Agent': 'azsdk-python-cosmos/4.14.5 Python/3.13.9 (Windows-11-10.0.26200-SP0)'
No body was attached to the request
2026-01-18 08:59:48,823 - azure.cosmos._cosmos_http_logging_policy - INFO - Request URL: 'https://localhost:8081/'
Request method: 'GET'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': '2020-07-15'
    'x-ms-documentdb-query-iscontinuationexpected': 'False'
    'x-ms-cosmos-sdk-supportedcapabilities': '1'
    'x-ms-activity-id': '1946b6b6-bab3-47ea-be09-60fb0b8b737a'
    'x-ms-date': 'Sun, 18 Jan 2026 05:59:40 GMT'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-client-id': '99c55f20-86d4-435e-b2a5-13f986d8873a'
    'x-ms-thinclient-proxy-resource-type': 'databaseaccount'
    'x-ms-thinclient-proxy-operation-type': 'Read'
    'Content-Length': '0'
    'User-Agent': 'azsdk-python-cosmos/4.14.5 Python/3.13.9 (Windows-11-10.0.26200-SP0)'
No body was attached to the request
2026-01-18 08:59:52,905 - azure.cosmos._cosmos_http_logging_policy - INFO - Request URL: 'https://localhost:8081/'
Request method: 'GET'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': '2020-07-15'
    'x-ms-documentdb-query-iscontinuationexpected': 'False'
    'x-ms-cosmos-sdk-supportedcapabilities': '1'
    'x-ms-activity-id': '1946b6b6-bab3-47ea-be09-60fb0b8b737a'
    'x-ms-date': 'Sun, 18 Jan 2026 05:59:40 GMT'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-client-id': '99c55f20-86d4-435e-b2a5-13f986d8873a'
    'x-ms-thinclient-proxy-resource-type': 'databaseaccount'
    'x-ms-thinclient-proxy-operation-type': 'Read'
    'Content-Length': '0'
    'User-Agent': 'azsdk-python-cosmos/4.14.5 Python/3.13.9 (Windows-11-10.0.26200-SP0)'
No body was attached to the request
2026-01-18 08:59:56,968 - services.cosmos_service - ERROR - Failed to initialize Cosmos DB: HTTPSConnection(host='localhost', port=8081): Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it
2026-01-18 08:59:56,969 - main - WARNING - [WARN] Could not initialize Cosmos DB: HTTPSConnection(host='localhost', port=8081): Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it
2026-01-18 08:59:56,970 - main - INFO -       Continuing with fallback mode (in-memory storage)
2026-01-18 08:59:56,970 - main - WARNING - [WARN] Azure Document Intelligence is NOT configured
2026-01-18 08:59:56,970 - main - WARNING -       Set DOCUMENTINTELLIGENCE_ENDPOINT and DOCUMENTINTELLIGENCE_API_KEY
2026-01-18 08:59:56,971 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-18 08:59:56,971 - main - INFO - [OK] Upload directory is writable
2026-01-18 08:59:56,971 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-18 08:59:56,972 - main - INFO - ============================================================
2026-01-18 08:59:56,972 - main - INFO - Startup Configuration:
2026-01-18 08:59:56,973 - main - INFO -   Request Timeout: 30.0s
2026-01-18 08:59:56,973 - main - INFO -   Document Processing Timeout: 25.0s
2026-01-18 08:59:56,973 - main - INFO -   Max Retries: 3
2026-01-18 08:59:56,974 - main - INFO -   Rate Limiting: Enabled
2026-01-18 08:59:56,974 - main - INFO -   Metrics: Enabled
2026-01-18 08:59:56,974 - main - INFO -   Cosmos DB: Fallback mode
2026-01-18 08:59:56,975 - main - INFO - ============================================================
2026-01-18 08:59:56,975 - main - INFO - Startup completed successfully
2026-01-18 08:59:56,975 - main - INFO - ============================================================
2026-01-18 09:00:05,099 - main - INFO - ============================================================
2026-01-18 09:00:05,100 - main - INFO - Shutting down Kraftd Docs Backend
2026-01-18 09:00:05,100 - main - INFO - ============================================================
2026-01-18 09:00:05,103 - metrics - INFO - Metrics exported to metrics_export.json
2026-01-18 09:00:05,103 - main - INFO - [OK] Metrics exported successfully
2026-01-18 09:00:16,233 - __main__ - INFO - Rate limiting enabled: 60 req/min
2026-01-18 09:00:43,498 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-18 09:00:43,532 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-18 09:00:43,532 - main - INFO - ============================================================
2026-01-18 09:00:43,533 - main - INFO - Starting Kraftd Docs Backend
2026-01-18 09:00:43,533 - main - INFO - ============================================================
2026-01-18 09:00:43,533 - main - INFO - Configuration valid - Timeout: 30.0s, Retries: 3
2026-01-18 09:00:43,533 - main - INFO - Initializing Azure Cosmos DB...
2026-01-18 09:00:43,533 - services.secrets_manager - INFO - Running in development mode - using environment variables for secrets
2026-01-18 09:00:43,533 - main - WARNING - [WARN] Could not initialize Cosmos DB: Secret 'cosmos-endpoint' not found in Key Vault or environment variables. Set COSMOS_ENDPOINT environment variable or configure AZURE_KEYVAULT_URL.
2026-01-18 09:00:43,533 - main - INFO -       Continuing with fallback mode (in-memory storage)
2026-01-18 09:00:43,533 - main - WARNING - [WARN] Azure Document Intelligence is NOT configured
2026-01-18 09:00:43,533 - main - WARNING -       Set DOCUMENTINTELLIGENCE_ENDPOINT and DOCUMENTINTELLIGENCE_API_KEY
2026-01-18 09:00:43,534 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-18 09:00:43,534 - main - INFO - [OK] Upload directory is writable
2026-01-18 09:00:43,534 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-18 09:00:43,534 - main - INFO - ============================================================
2026-01-18 09:00:43,534 - main - INFO - Startup Configuration:
2026-01-18 09:00:43,534 - main - INFO -   Request Timeout: 30.0s
2026-01-18 09:00:43,534 - main - INFO -   Document Processing Timeout: 25.0s
2026-01-18 09:00:43,534 - main - INFO -   Max Retries: 3
2026-01-18 09:00:43,534 - main - INFO -   Rate Limiting: Enabled
2026-01-18 09:00:43,535 - main - INFO -   Metrics: Enabled
2026-01-18 09:00:43,535 - main - INFO -   Cosmos DB: Fallback mode
2026-01-18 09:00:43,535 - main - INFO - ============================================================
2026-01-18 09:00:43,535 - main - INFO - Startup completed successfully
2026-01-18 09:00:43,535 - main - INFO - ============================================================
2026-01-18 09:00:58,849 - main - INFO - ============================================================
2026-01-18 09:00:58,850 - main - INFO - Shutting down Kraftd Docs Backend
2026-01-18 09:00:58,851 - main - INFO - ============================================================
2026-01-18 09:00:58,854 - metrics - INFO - Metrics exported to metrics_export.json
2026-01-18 09:00:58,854 - main - INFO - [OK] Metrics exported successfully
2026-01-18 09:03:05,545 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-18 09:03:05,624 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-18 09:03:05,624 - main - INFO - ============================================================
2026-01-18 09:03:05,625 - main - INFO - Starting Kraftd Docs Backend
2026-01-18 09:03:05,625 - main - INFO - ============================================================
2026-01-18 09:03:05,626 - main - INFO - Configuration valid - Timeout: 30.0s, Retries: 3
2026-01-18 09:03:05,626 - main - INFO - Initializing Azure Cosmos DB...
2026-01-18 09:03:05,627 - services.secrets_manager - INFO - Running in development mode - using environment variables for secrets
2026-01-18 09:03:05,627 - main - WARNING - [WARN] Could not initialize Cosmos DB: Secret 'cosmos-endpoint' not found in Key Vault or environment variables. Set COSMOS_ENDPOINT environment variable or configure AZURE_KEYVAULT_URL.
2026-01-18 09:03:05,627 - main - INFO -       Continuing with fallback mode (in-memory storage)
2026-01-18 09:03:05,628 - main - WARNING - [WARN] Azure Document Intelligence is NOT configured
2026-01-18 09:03:05,628 - main - WARNING -       Set DOCUMENTINTELLIGENCE_ENDPOINT and DOCUMENTINTELLIGENCE_API_KEY
2026-01-18 09:03:05,628 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-18 09:03:05,629 - main - INFO - [OK] Upload directory is writable
2026-01-18 09:03:05,629 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-18 09:03:05,629 - main - INFO - ============================================================
2026-01-18 09:03:05,630 - main - INFO - Startup Configuration:
2026-01-18 09:03:05,630 - main - INFO -   Request Timeout: 30.0s
2026-01-18 09:03:05,630 - main - INFO -   Document Processing Timeout: 25.0s
2026-01-18 09:03:05,630 - main - INFO -   Max Retries: 3
2026-01-18 09:03:05,630 - main - INFO -   Rate Limiting: Enabled
2026-01-18 09:03:05,630 - main - INFO -   Metrics: Enabled
2026-01-18 09:03:05,631 - main - INFO -   Cosmos DB: Fallback mode
2026-01-18 09:03:05,631 - main - INFO - ============================================================
2026-01-18 09:03:05,631 - main - INFO - Startup completed successfully
2026-01-18 09:03:05,631 - main - INFO - ============================================================
2026-01-18 09:03:18,519 - main - INFO - ============================================================
2026-01-18 09:03:18,520 - main - INFO - Shutting down Kraftd Docs Backend
2026-01-18 09:03:18,520 - main - INFO - ============================================================
2026-01-18 09:03:18,522 - metrics - INFO - Metrics exported to metrics_export.json
2026-01-18 09:03:18,523 - main - INFO - [OK] Metrics exported successfully
2026-01-18 09:03:28,238 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-18 09:03:28,266 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-18 09:03:28,267 - main - INFO - ============================================================
2026-01-18 09:03:28,267 - main - INFO - Starting Kraftd Docs Backend
2026-01-18 09:03:28,267 - main - INFO - ============================================================
2026-01-18 09:03:28,267 - main - INFO - Configuration valid - Timeout: 30.0s, Retries: 3
2026-01-18 09:03:28,268 - main - INFO - Initializing Azure Cosmos DB...
2026-01-18 09:03:28,268 - services.secrets_manager - INFO - Running in development mode - using environment variables for secrets
2026-01-18 09:03:28,268 - main - WARNING - [WARN] Could not initialize Cosmos DB: Secret 'cosmos-endpoint' not found in Key Vault or environment variables. Set COSMOS_ENDPOINT environment variable or configure AZURE_KEYVAULT_URL.
2026-01-18 09:03:28,268 - main - INFO -       Continuing with fallback mode (in-memory storage)
2026-01-18 09:03:28,269 - main - WARNING - [WARN] Azure Document Intelligence is NOT configured
2026-01-18 09:03:28,269 - main - WARNING -       Set DOCUMENTINTELLIGENCE_ENDPOINT and DOCUMENTINTELLIGENCE_API_KEY
2026-01-18 09:03:28,269 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-18 09:03:28,269 - main - INFO - [OK] Upload directory is writable
2026-01-18 09:03:28,269 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-18 09:03:28,270 - main - INFO - ============================================================
2026-01-18 09:03:28,270 - main - INFO - Startup Configuration:
2026-01-18 09:03:28,270 - main - INFO -   Request Timeout: 30.0s
2026-01-18 09:03:28,270 - main - INFO -   Document Processing Timeout: 25.0s
2026-01-18 09:03:28,270 - main - INFO -   Max Retries: 3
2026-01-18 09:03:28,270 - main - INFO -   Rate Limiting: Enabled
2026-01-18 09:03:28,270 - main - INFO -   Metrics: Enabled
2026-01-18 09:03:28,270 - main - INFO -   Cosmos DB: Fallback mode
2026-01-18 09:03:28,270 - main - INFO - ============================================================
2026-01-18 09:03:28,270 - main - INFO - Startup completed successfully
2026-01-18 09:03:28,271 - main - INFO - ============================================================
2026-01-18 09:03:40,294 - main - INFO - ============================================================
2026-01-18 09:03:40,295 - main - INFO - Shutting down Kraftd Docs Backend
2026-01-18 09:03:40,296 - main - INFO - ============================================================
2026-01-18 09:03:40,298 - metrics - INFO - Metrics exported to metrics_export.json
2026-01-18 09:03:40,299 - main - INFO - [OK] Metrics exported successfully
2026-01-18 09:08:51,958 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-18 09:08:51,993 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-18 09:08:51,993 - main - INFO - ============================================================
2026-01-18 09:08:51,994 - main - INFO - Starting Kraftd Docs Backend
2026-01-18 09:08:51,994 - main - INFO - ============================================================
2026-01-18 09:08:51,994 - main - INFO - Configuration valid - Timeout: 30.0s, Retries: 3
2026-01-18 09:08:51,994 - main - INFO - Initializing Azure Cosmos DB...
2026-01-18 09:08:51,995 - services.secrets_manager - INFO - Running in development mode - using environment variables for secrets
2026-01-18 09:08:51,995 - main - WARNING - [WARN] Could not initialize Cosmos DB: Secret 'cosmos-endpoint' not found in Key Vault or environment variables. Set COSMOS_ENDPOINT environment variable or configure AZURE_KEYVAULT_URL.
2026-01-18 09:08:51,995 - main - INFO -       Continuing with fallback mode (in-memory storage)
2026-01-18 09:08:51,996 - main - WARNING - [WARN] Azure Document Intelligence is NOT configured
2026-01-18 09:08:51,996 - main - WARNING -       Set DOCUMENTINTELLIGENCE_ENDPOINT and DOCUMENTINTELLIGENCE_API_KEY
2026-01-18 09:08:51,996 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-18 09:08:51,997 - main - INFO - [OK] Upload directory is writable
2026-01-18 09:08:51,997 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-18 09:08:51,997 - main - INFO - ============================================================
2026-01-18 09:08:51,997 - main - INFO - Startup Configuration:
2026-01-18 09:08:51,998 - main - INFO -   Request Timeout: 30.0s
2026-01-18 09:08:51,998 - main - INFO -   Document Processing Timeout: 25.0s
2026-01-18 09:08:51,998 - main - INFO -   Max Retries: 3
2026-01-18 09:08:51,999 - main - INFO -   Rate Limiting: Enabled
2026-01-18 09:08:51,999 - main - INFO -   Metrics: Enabled
2026-01-18 09:08:51,999 - main - INFO -   Cosmos DB: Fallback mode
2026-01-18 09:08:52,000 - main - INFO - ============================================================
2026-01-18 09:08:52,000 - main - INFO - Startup completed successfully
2026-01-18 09:08:52,000 - main - INFO - ============================================================
2026-01-18 09:09:09,303 - main - INFO - ============================================================
2026-01-18 09:09:09,304 - main - INFO - Shutting down Kraftd Docs Backend
2026-01-18 09:09:09,305 - main - INFO - ============================================================
2026-01-18 09:09:09,309 - metrics - INFO - Metrics exported to metrics_export.json
2026-01-18 09:09:09,310 - main - INFO - [OK] Metrics exported successfully
2026-01-18 09:10:09,210 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-18 09:10:09,278 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-18 09:10:09,279 - main - INFO - ============================================================
2026-01-18 09:10:09,279 - main - INFO - Starting Kraftd Docs Backend
2026-01-18 09:10:09,279 - main - INFO - ============================================================
2026-01-18 09:10:09,279 - main - INFO - Configuration valid - Timeout: 30.0s, Retries: 3
2026-01-18 09:10:09,280 - main - INFO - Initializing Azure Cosmos DB...
2026-01-18 09:10:09,280 - services.secrets_manager - INFO - Running in development mode - using environment variables for secrets
2026-01-18 09:10:09,280 - main - WARNING - [WARN] Could not initialize Cosmos DB: Secret 'cosmos-endpoint' not found in Key Vault or environment variables. Set COSMOS_ENDPOINT environment variable or configure AZURE_KEYVAULT_URL.
2026-01-18 09:10:09,280 - main - INFO -       Continuing with fallback mode (in-memory storage)
2026-01-18 09:10:09,281 - main - WARNING - [WARN] Azure Document Intelligence is NOT configured
2026-01-18 09:10:09,281 - main - WARNING -       Set DOCUMENTINTELLIGENCE_ENDPOINT and DOCUMENTINTELLIGENCE_API_KEY
2026-01-18 09:10:09,281 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-18 09:10:09,281 - main - INFO - [OK] Upload directory is writable
2026-01-18 09:10:09,281 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-18 09:10:09,281 - main - INFO - ============================================================
2026-01-18 09:10:09,281 - main - INFO - Startup Configuration:
2026-01-18 09:10:09,281 - main - INFO -   Request Timeout: 30.0s
2026-01-18 09:10:09,282 - main - INFO -   Document Processing Timeout: 25.0s
2026-01-18 09:10:09,282 - main - INFO -   Max Retries: 3
2026-01-18 09:10:09,282 - main - INFO -   Rate Limiting: Enabled
2026-01-18 09:10:09,282 - main - INFO -   Metrics: Enabled
2026-01-18 09:10:09,282 - main - INFO -   Cosmos DB: Fallback mode
2026-01-18 09:10:09,282 - main - INFO - ============================================================
2026-01-18 09:10:09,282 - main - INFO - Startup completed successfully
2026-01-18 09:10:09,282 - main - INFO - ============================================================
2026-01-18 09:10:25,970 - main - INFO - ============================================================
2026-01-18 09:10:25,971 - main - INFO - Shutting down Kraftd Docs Backend
2026-01-18 09:10:25,971 - main - INFO - ============================================================
2026-01-18 09:10:25,974 - metrics - INFO - Metrics exported to metrics_export.json
2026-01-18 09:10:25,974 - main - INFO - [OK] Metrics exported successfully
2026-01-18 09:10:39,353 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-18 09:10:39,380 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-18 09:10:39,381 - main - INFO - ============================================================
2026-01-18 09:10:39,381 - main - INFO - Starting Kraftd Docs Backend
2026-01-18 09:10:39,381 - main - INFO - ============================================================
2026-01-18 09:10:39,381 - main - INFO - Configuration valid - Timeout: 30.0s, Retries: 3
2026-01-18 09:10:39,381 - main - INFO - Initializing Azure Cosmos DB...
2026-01-18 09:10:39,381 - services.secrets_manager - INFO - Running in development mode - using environment variables for secrets
2026-01-18 09:10:39,382 - main - WARNING - [WARN] Could not initialize Cosmos DB: Secret 'cosmos-endpoint' not found in Key Vault or environment variables. Set COSMOS_ENDPOINT environment variable or configure AZURE_KEYVAULT_URL.
2026-01-18 09:10:39,382 - main - INFO -       Continuing with fallback mode (in-memory storage)
2026-01-18 09:10:39,382 - main - WARNING - [WARN] Azure Document Intelligence is NOT configured
2026-01-18 09:10:39,382 - main - WARNING -       Set DOCUMENTINTELLIGENCE_ENDPOINT and DOCUMENTINTELLIGENCE_API_KEY
2026-01-18 09:10:39,383 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-18 09:10:39,383 - main - INFO - [OK] Upload directory is writable
2026-01-18 09:10:39,383 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-18 09:10:39,384 - main - INFO - ============================================================
2026-01-18 09:10:39,384 - main - INFO - Startup Configuration:
2026-01-18 09:10:39,384 - main - INFO -   Request Timeout: 30.0s
2026-01-18 09:10:39,384 - main - INFO -   Document Processing Timeout: 25.0s
2026-01-18 09:10:39,384 - main - INFO -   Max Retries: 3
2026-01-18 09:10:39,384 - main - INFO -   Rate Limiting: Enabled
2026-01-18 09:10:39,385 - main - INFO -   Metrics: Enabled
2026-01-18 09:10:39,385 - main - INFO -   Cosmos DB: Fallback mode
2026-01-18 09:10:39,385 - main - INFO - ============================================================
2026-01-18 09:10:39,385 - main - INFO - Startup completed successfully
2026-01-18 09:10:39,385 - main - INFO - ============================================================
2026-01-18 09:10:55,343 - main - INFO - ============================================================
2026-01-18 09:10:55,344 - main - INFO - Shutting down Kraftd Docs Backend
2026-01-18 09:10:55,345 - main - INFO - ============================================================
2026-01-18 09:10:55,347 - metrics - INFO - Metrics exported to metrics_export.json
2026-01-18 09:10:55,347 - main - INFO - [OK] Metrics exported successfully
2026-01-18 09:22:23,925 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-18 09:22:23,957 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-18 09:22:23,958 - main - INFO - ============================================================
2026-01-18 09:22:23,959 - main - INFO - Starting Kraftd Docs Backend
2026-01-18 09:22:23,959 - main - INFO - ============================================================
2026-01-18 09:22:23,959 - main - INFO - Configuration valid - Timeout: 30.0s, Retries: 3
2026-01-18 09:22:23,959 - main - INFO - Initializing Azure Cosmos DB...
2026-01-18 09:22:23,960 - services.secrets_manager - INFO - Running in development mode - using environment variables for secrets
2026-01-18 09:22:23,960 - services.cosmos_service - INFO - Initializing Cosmos DB connection...
2026-01-18 09:22:23,978 - azure.cosmos._cosmos_http_logging_policy - INFO - Request URL: 'https://localhost:8081/'
Request method: 'GET'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': '2020-07-15'
    'x-ms-documentdb-query-iscontinuationexpected': 'False'
    'x-ms-cosmos-sdk-supportedcapabilities': '1'
    'x-ms-activity-id': '4ff15655-f27d-457a-a712-4968251341de'
    'x-ms-date': 'Sun, 18 Jan 2026 06:22:23 GMT'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-client-id': 'e8b4b98b-f550-40b2-99c1-1fc354ef4798'
    'x-ms-thinclient-proxy-resource-type': 'databaseaccount'
    'x-ms-thinclient-proxy-operation-type': 'Read'
    'Content-Length': '0'
    'User-Agent': 'azsdk-python-cosmos/4.14.5 Python/3.13.9 (Windows-11-10.0.26200-SP0)'
No body was attached to the request
2026-01-18 09:22:28,040 - azure.cosmos._cosmos_http_logging_policy - INFO - Request URL: 'https://localhost:8081/'
Request method: 'GET'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': '2020-07-15'
    'x-ms-documentdb-query-iscontinuationexpected': 'False'
    'x-ms-cosmos-sdk-supportedcapabilities': '1'
    'x-ms-activity-id': '4ff15655-f27d-457a-a712-4968251341de'
    'x-ms-date': 'Sun, 18 Jan 2026 06:22:23 GMT'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-client-id': 'e8b4b98b-f550-40b2-99c1-1fc354ef4798'
    'x-ms-thinclient-proxy-resource-type': 'databaseaccount'
    'x-ms-thinclient-proxy-operation-type': 'Read'
    'Content-Length': '0'
    'User-Agent': 'azsdk-python-cosmos/4.14.5 Python/3.13.9 (Windows-11-10.0.26200-SP0)'
No body was attached to the request
2026-01-18 09:22:32,106 - azure.cosmos._cosmos_http_logging_policy - INFO - Request URL: 'https://localhost:8081/'
Request method: 'GET'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': '2020-07-15'
    'x-ms-documentdb-query-iscontinuationexpected': 'False'
    'x-ms-cosmos-sdk-supportedcapabilities': '1'
    'x-ms-activity-id': '4ff15655-f27d-457a-a712-4968251341de'
    'x-ms-date': 'Sun, 18 Jan 2026 06:22:23 GMT'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-client-id': 'e8b4b98b-f550-40b2-99c1-1fc354ef4798'
    'x-ms-thinclient-proxy-resource-type': 'databaseaccount'
    'x-ms-thinclient-proxy-operation-type': 'Read'
    'Content-Length': '0'
    'User-Agent': 'azsdk-python-cosmos/4.14.5 Python/3.13.9 (Windows-11-10.0.26200-SP0)'
No body was attached to the request
2026-01-18 09:22:36,186 - azure.cosmos._cosmos_http_logging_policy - INFO - Request URL: 'https://localhost:8081/'
Request method: 'GET'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': '2020-07-15'
    'x-ms-documentdb-query-iscontinuationexpected': 'False'
    'x-ms-cosmos-sdk-supportedcapabilities': '1'
    'x-ms-activity-id': '4ff15655-f27d-457a-a712-4968251341de'
    'x-ms-date': 'Sun, 18 Jan 2026 06:22:23 GMT'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-client-id': 'e8b4b98b-f550-40b2-99c1-1fc354ef4798'
    'x-ms-thinclient-proxy-resource-type': 'databaseaccount'
    'x-ms-thinclient-proxy-operation-type': 'Read'
    'Content-Length': '0'
    'User-Agent': 'azsdk-python-cosmos/4.14.5 Python/3.13.9 (Windows-11-10.0.26200-SP0)'
No body was attached to the request
2026-01-18 09:22:40,287 - services.cosmos_service - ERROR - Failed to initialize Cosmos DB: HTTPSConnection(host='localhost', port=8081): Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it
2026-01-18 09:22:40,288 - main - WARNING - [WARN] Could not initialize Cosmos DB: HTTPSConnection(host='localhost', port=8081): Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it
2026-01-18 09:22:40,289 - main - INFO -       Continuing with fallback mode (in-memory storage)
2026-01-18 09:22:40,290 - main - WARNING - [WARN] Azure Document Intelligence is NOT configured
2026-01-18 09:22:40,290 - main - WARNING -       Set DOCUMENTINTELLIGENCE_ENDPOINT and DOCUMENTINTELLIGENCE_API_KEY
2026-01-18 09:22:40,291 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-18 09:22:40,292 - main - INFO - [OK] Upload directory is writable
2026-01-18 09:22:40,292 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-18 09:22:40,293 - main - INFO - ============================================================
2026-01-18 09:22:40,293 - main - INFO - Startup Configuration:
2026-01-18 09:22:40,294 - main - INFO -   Request Timeout: 30.0s
2026-01-18 09:22:40,294 - main - INFO -   Document Processing Timeout: 25.0s
2026-01-18 09:22:40,294 - main - INFO -   Max Retries: 3
2026-01-18 09:22:40,295 - main - INFO -   Rate Limiting: Enabled
2026-01-18 09:22:40,295 - main - INFO -   Metrics: Enabled
2026-01-18 09:22:40,296 - main - INFO -   Cosmos DB: Fallback mode
2026-01-18 09:22:40,296 - main - INFO - ============================================================
2026-01-18 09:22:40,297 - main - INFO - Startup completed successfully
2026-01-18 09:22:40,298 - main - INFO - ============================================================
2026-01-18 09:24:06,454 - main - WARNING - Cosmos DB not available, using in-memory storage
2026-01-18 09:38:08,057 - main - WARNING - Cosmos DB not available, using in-memory storage
2026-01-18 09:38:28,249 - main - WARNING - Cosmos DB not available, using in-memory storage
2026-01-18 09:38:28,457 - main - WARNING - Cosmos DB not available, using in-memory storage for login
2026-01-18 09:38:28,694 - services.secrets_manager - WARNING -   No JWT secret configured. Using temporary insecure default. Set JWT_SECRET_KEY environment variable or configure Azure Key Vault.
2026-01-18 09:38:28,695 - services.secrets_manager - WARNING -   No JWT secret configured. Using temporary insecure default. Set JWT_SECRET_KEY environment variable or configure Azure Key Vault.
2026-01-18 09:38:28,695 - main - INFO - User logged in: test-1357398147@example.com
2026-01-18 09:38:28,871 - main - WARNING - Cosmos DB not available, using in-memory storage for login
2026-01-18 09:38:29,272 - main - WARNING - Cosmos DB not available, using in-memory storage for login
2026-01-18 09:39:08,311 - main - WARNING - Cosmos DB not available, using in-memory storage
2026-01-18 09:40:04,013 - main - WARNING - Cosmos DB not available, using in-memory storage
2026-01-18 09:40:10,268 - main - WARNING - Cosmos DB not available, using in-memory storage
2026-01-18 09:40:28,845 - main - WARNING - Cosmos DB not available, using in-memory storage
2026-01-18 09:40:59,450 - main - WARNING - Cosmos DB not available, using in-memory storage
2026-01-18 09:41:27,954 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-18 09:41:27,986 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-18 09:41:27,986 - main - INFO - ============================================================
2026-01-18 09:41:27,987 - main - INFO - Starting Kraftd Docs Backend
2026-01-18 09:41:27,987 - main - INFO - ============================================================
2026-01-18 09:41:27,987 - main - INFO - Configuration valid - Timeout: 30.0s, Retries: 3
2026-01-18 09:41:27,987 - main - INFO - Initializing Azure Cosmos DB...
2026-01-18 09:41:27,987 - services.secrets_manager - INFO - Running in development mode - using environment variables for secrets
2026-01-18 09:41:27,988 - main - WARNING - [WARN] Could not initialize Cosmos DB: Secret 'cosmos-endpoint' not found in Key Vault or environment variables. Set COSMOS_ENDPOINT environment variable or configure AZURE_KEYVAULT_URL.
2026-01-18 09:41:27,988 - main - INFO -       Continuing with fallback mode (in-memory storage)
2026-01-18 09:41:27,988 - main - WARNING - [WARN] Azure Document Intelligence is NOT configured
2026-01-18 09:41:27,988 - main - WARNING -       Set DOCUMENTINTELLIGENCE_ENDPOINT and DOCUMENTINTELLIGENCE_API_KEY
2026-01-18 09:41:27,988 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-18 09:41:27,988 - main - INFO - [OK] Upload directory is writable
2026-01-18 09:41:27,989 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-18 09:41:27,989 - main - INFO - ============================================================
2026-01-18 09:41:27,989 - main - INFO - Startup Configuration:
2026-01-18 09:41:27,989 - main - INFO -   Request Timeout: 30.0s
2026-01-18 09:41:27,989 - main - INFO -   Document Processing Timeout: 25.0s
2026-01-18 09:41:27,989 - main - INFO -   Max Retries: 3
2026-01-18 09:41:27,989 - main - INFO -   Rate Limiting: Enabled
2026-01-18 09:41:27,989 - main - INFO -   Metrics: Enabled
2026-01-18 09:41:27,989 - main - INFO -   Cosmos DB: Fallback mode
2026-01-18 09:41:27,989 - main - INFO - ============================================================
2026-01-18 09:41:27,989 - main - INFO - Startup completed successfully
2026-01-18 09:41:27,989 - main - INFO - ============================================================
2026-01-18 09:41:44,228 - main - INFO - ============================================================
2026-01-18 09:41:44,229 - main - INFO - Shutting down Kraftd Docs Backend
2026-01-18 09:41:44,230 - main - INFO - ============================================================
2026-01-18 09:41:44,233 - metrics - INFO - Metrics exported to metrics_export.json
2026-01-18 09:41:44,234 - main - INFO - [OK] Metrics exported successfully
2026-01-18 09:41:54,094 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-18 09:41:54,165 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-18 09:41:54,165 - main - INFO - ============================================================
2026-01-18 09:41:54,166 - main - INFO - Starting Kraftd Docs Backend
2026-01-18 09:41:54,166 - main - INFO - ============================================================
2026-01-18 09:41:54,167 - main - INFO - Configuration valid - Timeout: 30.0s, Retries: 3
2026-01-18 09:41:54,168 - main - INFO - Initializing Azure Cosmos DB...
2026-01-18 09:41:54,168 - services.secrets_manager - INFO - Running in development mode - using environment variables for secrets
2026-01-18 09:41:54,169 - main - WARNING - [WARN] Could not initialize Cosmos DB: Secret 'cosmos-endpoint' not found in Key Vault or environment variables. Set COSMOS_ENDPOINT environment variable or configure AZURE_KEYVAULT_URL.
2026-01-18 09:41:54,169 - main - INFO -       Continuing with fallback mode (in-memory storage)
2026-01-18 09:41:54,170 - main - WARNING - [WARN] Azure Document Intelligence is NOT configured
2026-01-18 09:41:54,170 - main - WARNING -       Set DOCUMENTINTELLIGENCE_ENDPOINT and DOCUMENTINTELLIGENCE_API_KEY
2026-01-18 09:41:54,171 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-18 09:41:54,171 - main - INFO - [OK] Upload directory is writable
2026-01-18 09:41:54,171 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-18 09:41:54,172 - main - INFO - ============================================================
2026-01-18 09:41:54,172 - main - INFO - Startup Configuration:
2026-01-18 09:41:54,172 - main - INFO -   Request Timeout: 30.0s
2026-01-18 09:41:54,172 - main - INFO -   Document Processing Timeout: 25.0s
2026-01-18 09:41:54,172 - main - INFO -   Max Retries: 3
2026-01-18 09:41:54,173 - main - INFO -   Rate Limiting: Enabled
2026-01-18 09:41:54,173 - main - INFO -   Metrics: Enabled
2026-01-18 09:41:54,173 - main - INFO -   Cosmos DB: Fallback mode
2026-01-18 09:41:54,173 - main - INFO - ============================================================
2026-01-18 09:41:54,173 - main - INFO - Startup completed successfully
2026-01-18 09:41:54,173 - main - INFO - ============================================================
2026-01-18 09:42:08,139 - main - INFO - ============================================================
2026-01-18 09:42:08,140 - main - INFO - Shutting down Kraftd Docs Backend
2026-01-18 09:42:08,141 - main - INFO - ============================================================
2026-01-18 09:42:08,144 - metrics - INFO - Metrics exported to metrics_export.json
2026-01-18 09:42:08,144 - main - INFO - [OK] Metrics exported successfully
2026-01-18 09:42:26,187 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-18 09:42:26,222 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-18 09:42:26,222 - main - INFO - ============================================================
2026-01-18 09:42:26,222 - main - INFO - Starting Kraftd Docs Backend
2026-01-18 09:42:26,222 - main - INFO - ============================================================
2026-01-18 09:42:26,222 - main - INFO - Configuration valid - Timeout: 30.0s, Retries: 3
2026-01-18 09:42:26,222 - main - INFO - Initializing Azure Cosmos DB...
2026-01-18 09:42:26,223 - services.secrets_manager - INFO - Running in development mode - using environment variables for secrets
2026-01-18 09:42:26,223 - main - WARNING - [WARN] Could not initialize Cosmos DB: Secret 'cosmos-endpoint' not found in Key Vault or environment variables. Set COSMOS_ENDPOINT environment variable or configure AZURE_KEYVAULT_URL.
2026-01-18 09:42:26,223 - main - INFO -       Continuing with fallback mode (in-memory storage)
2026-01-18 09:42:26,223 - main - WARNING - [WARN] Azure Document Intelligence is NOT configured
2026-01-18 09:42:26,223 - main - WARNING -       Set DOCUMENTINTELLIGENCE_ENDPOINT and DOCUMENTINTELLIGENCE_API_KEY
2026-01-18 09:42:26,223 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-18 09:42:26,223 - main - INFO - [OK] Upload directory is writable
2026-01-18 09:42:26,223 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-18 09:42:26,223 - main - INFO - ============================================================
2026-01-18 09:42:26,224 - main - INFO - Startup Configuration:
2026-01-18 09:42:26,224 - main - INFO -   Request Timeout: 30.0s
2026-01-18 09:42:26,224 - main - INFO -   Document Processing Timeout: 25.0s
2026-01-18 09:42:26,224 - main - INFO -   Max Retries: 3
2026-01-18 09:42:26,224 - main - INFO -   Rate Limiting: Enabled
2026-01-18 09:42:26,224 - main - INFO -   Metrics: Enabled
2026-01-18 09:42:26,224 - main - INFO -   Cosmos DB: Fallback mode
2026-01-18 09:42:26,224 - main - INFO - ============================================================
2026-01-18 09:42:26,224 - main - INFO - Startup completed successfully
2026-01-18 09:42:26,224 - main - INFO - ============================================================
2026-01-18 09:42:41,844 - main - INFO - ============================================================
2026-01-18 09:42:41,845 - main - INFO - Shutting down Kraftd Docs Backend
2026-01-18 09:42:41,846 - main - INFO - ============================================================
2026-01-18 09:42:41,848 - metrics - INFO - Metrics exported to metrics_export.json
2026-01-18 09:42:41,849 - main - INFO - [OK] Metrics exported successfully
2026-01-18 09:43:03,304 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-18 09:43:31,439 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-18 09:43:31,490 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-18 09:43:31,491 - main - INFO - ============================================================
2026-01-18 09:43:31,491 - main - INFO - Starting Kraftd Docs Backend
2026-01-18 09:43:31,491 - main - INFO - ============================================================
2026-01-18 09:43:31,491 - main - INFO - Configuration valid - Timeout: 30.0s, Retries: 3
2026-01-18 09:43:31,492 - main - INFO - Initializing Azure Cosmos DB...
2026-01-18 09:43:31,492 - services.secrets_manager - INFO - Running in development mode - using environment variables for secrets
2026-01-18 09:43:31,493 - main - WARNING - [WARN] Could not initialize Cosmos DB: Secret 'cosmos-endpoint' not found in Key Vault or environment variables. Set COSMOS_ENDPOINT environment variable or configure AZURE_KEYVAULT_URL.
2026-01-18 09:43:31,493 - main - INFO -       Continuing with fallback mode (in-memory storage)
2026-01-18 09:43:31,493 - main - WARNING - [WARN] Azure Document Intelligence is NOT configured
2026-01-18 09:43:31,494 - main - WARNING -       Set DOCUMENTINTELLIGENCE_ENDPOINT and DOCUMENTINTELLIGENCE_API_KEY
2026-01-18 09:43:31,494 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-18 09:43:31,494 - main - INFO - [OK] Upload directory is writable
2026-01-18 09:43:31,494 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-18 09:43:31,495 - main - INFO - ============================================================
2026-01-18 09:43:31,495 - main - INFO - Startup Configuration:
2026-01-18 09:43:31,495 - main - INFO -   Request Timeout: 30.0s
2026-01-18 09:43:31,496 - main - INFO -   Document Processing Timeout: 25.0s
2026-01-18 09:43:31,496 - main - INFO -   Max Retries: 3
2026-01-18 09:43:31,496 - main - INFO -   Rate Limiting: Enabled
2026-01-18 09:43:31,496 - main - INFO -   Metrics: Enabled
2026-01-18 09:43:31,496 - main - INFO -   Cosmos DB: Fallback mode
2026-01-18 09:43:31,497 - main - INFO - ============================================================
2026-01-18 09:43:31,497 - main - INFO - Startup completed successfully
2026-01-18 09:43:31,497 - main - INFO - ============================================================
2026-01-18 09:43:45,537 - main - INFO - ============================================================
2026-01-18 09:43:45,538 - main - INFO - Shutting down Kraftd Docs Backend
2026-01-18 09:43:45,539 - main - INFO - ============================================================
2026-01-18 09:43:45,540 - metrics - INFO - Metrics exported to metrics_export.json
2026-01-18 09:43:45,541 - main - INFO - [OK] Metrics exported successfully
2026-01-18 09:44:16,506 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-18 09:44:16,570 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-18 09:44:16,570 - main - INFO - ============================================================
2026-01-18 09:44:16,571 - main - INFO - Starting Kraftd Docs Backend
2026-01-18 09:44:16,572 - main - INFO - ============================================================
2026-01-18 09:44:16,572 - main - INFO - Configuration valid - Timeout: 30.0s, Retries: 3
2026-01-18 09:44:16,573 - main - INFO - Initializing Azure Cosmos DB...
2026-01-18 09:44:16,574 - services.secrets_manager - INFO - Running in development mode - using environment variables for secrets
2026-01-18 09:44:16,575 - main - WARNING - [WARN] Could not initialize Cosmos DB: Secret 'cosmos-endpoint' not found in Key Vault or environment variables. Set COSMOS_ENDPOINT environment variable or configure AZURE_KEYVAULT_URL.
2026-01-18 09:44:16,575 - main - INFO -       Continuing with fallback mode (in-memory storage)
2026-01-18 09:44:16,576 - main - WARNING - [WARN] Azure Document Intelligence is NOT configured
2026-01-18 09:44:16,577 - main - WARNING -       Set DOCUMENTINTELLIGENCE_ENDPOINT and DOCUMENTINTELLIGENCE_API_KEY
2026-01-18 09:44:16,578 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-18 09:44:16,578 - main - INFO - [OK] Upload directory is writable
2026-01-18 09:44:16,579 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-18 09:44:16,579 - main - INFO - ============================================================
2026-01-18 09:44:16,579 - main - INFO - Startup Configuration:
2026-01-18 09:44:16,580 - main - INFO -   Request Timeout: 30.0s
2026-01-18 09:44:16,580 - main - INFO -   Document Processing Timeout: 25.0s
2026-01-18 09:44:16,580 - main - INFO -   Max Retries: 3
2026-01-18 09:44:16,581 - main - INFO -   Rate Limiting: Enabled
2026-01-18 09:44:16,581 - main - INFO -   Metrics: Enabled
2026-01-18 09:44:16,581 - main - INFO -   Cosmos DB: Fallback mode
2026-01-18 09:44:16,581 - main - INFO - ============================================================
2026-01-18 09:44:16,581 - main - INFO - Startup completed successfully
2026-01-18 09:44:16,581 - main - INFO - ============================================================
2026-01-18 09:44:36,390 - main - INFO - ============================================================
2026-01-18 09:44:36,391 - main - INFO - Shutting down Kraftd Docs Backend
2026-01-18 09:44:36,392 - main - INFO - ============================================================
2026-01-18 09:44:36,394 - metrics - INFO - Metrics exported to metrics_export.json
2026-01-18 09:44:36,394 - main - INFO - [OK] Metrics exported successfully
2026-01-18 09:44:58,556 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-18 09:44:58,621 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-18 09:44:58,621 - main - INFO - ============================================================
2026-01-18 09:44:58,622 - main - INFO - Starting Kraftd Docs Backend
2026-01-18 09:44:58,622 - main - INFO - ============================================================
2026-01-18 09:44:58,622 - main - INFO - Configuration valid - Timeout: 30.0s, Retries: 3
2026-01-18 09:44:58,623 - main - INFO - Initializing Azure Cosmos DB...
2026-01-18 09:44:58,623 - services.secrets_manager - INFO - Running in development mode - using environment variables for secrets
2026-01-18 09:44:58,623 - main - WARNING - [WARN] Could not initialize Cosmos DB: Secret 'cosmos-endpoint' not found in Key Vault or environment variables. Set COSMOS_ENDPOINT environment variable or configure AZURE_KEYVAULT_URL.
2026-01-18 09:44:58,624 - main - INFO -       Continuing with fallback mode (in-memory storage)
2026-01-18 09:44:58,624 - main - WARNING - [WARN] Azure Document Intelligence is NOT configured
2026-01-18 09:44:58,624 - main - WARNING -       Set DOCUMENTINTELLIGENCE_ENDPOINT and DOCUMENTINTELLIGENCE_API_KEY
2026-01-18 09:44:58,624 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-18 09:44:58,624 - main - INFO - [OK] Upload directory is writable
2026-01-18 09:44:58,624 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-18 09:44:58,625 - main - INFO - ============================================================
2026-01-18 09:44:58,625 - main - INFO - Startup Configuration:
2026-01-18 09:44:58,625 - main - INFO -   Request Timeout: 30.0s
2026-01-18 09:44:58,625 - main - INFO -   Document Processing Timeout: 25.0s
2026-01-18 09:44:58,626 - main - INFO -   Max Retries: 3
2026-01-18 09:44:58,626 - main - INFO -   Rate Limiting: Enabled
2026-01-18 09:44:58,626 - main - INFO -   Metrics: Enabled
2026-01-18 09:44:58,626 - main - INFO -   Cosmos DB: Fallback mode
2026-01-18 09:44:58,626 - main - INFO - ============================================================
2026-01-18 09:44:58,627 - main - INFO - Startup completed successfully
2026-01-18 09:44:58,627 - main - INFO - ============================================================
2026-01-18 09:45:17,643 - main - INFO - ============================================================
2026-01-18 09:45:17,645 - main - INFO - Shutting down Kraftd Docs Backend
2026-01-18 09:45:17,645 - main - INFO - ============================================================
2026-01-18 09:45:17,648 - metrics - INFO - Metrics exported to metrics_export.json
2026-01-18 09:45:17,648 - main - INFO - [OK] Metrics exported successfully
2026-01-18 09:54:18,036 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-18 09:54:18,063 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-18 09:54:18,064 - main - INFO - ============================================================
2026-01-18 09:54:18,064 - main - INFO - Starting Kraftd Docs Backend
2026-01-18 09:54:18,064 - main - INFO - ============================================================
2026-01-18 09:54:18,064 - main - INFO - Configuration valid - Timeout: 30.0s, Retries: 3
2026-01-18 09:54:18,065 - main - INFO - Initializing Azure Cosmos DB...
2026-01-18 09:54:18,065 - services.secrets_manager - INFO - Running in development mode - using environment variables for secrets
2026-01-18 09:54:18,065 - main - WARNING - [WARN] Could not initialize Cosmos DB: Secret 'cosmos-endpoint' not found in Key Vault or environment variables. Set COSMOS_ENDPOINT environment variable or configure AZURE_KEYVAULT_URL.
2026-01-18 09:54:18,066 - main - INFO -       Continuing with fallback mode (in-memory storage)
2026-01-18 09:54:18,066 - main - WARNING - [WARN] Azure Document Intelligence is NOT configured
2026-01-18 09:54:18,066 - main - WARNING -       Set DOCUMENTINTELLIGENCE_ENDPOINT and DOCUMENTINTELLIGENCE_API_KEY
2026-01-18 09:54:18,066 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-18 09:54:18,066 - main - INFO - [OK] Upload directory is writable
2026-01-18 09:54:18,067 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-18 09:54:18,067 - main - INFO - ============================================================
2026-01-18 09:54:18,067 - main - INFO - Startup Configuration:
2026-01-18 09:54:18,067 - main - INFO -   Request Timeout: 30.0s
2026-01-18 09:54:18,067 - main - INFO -   Document Processing Timeout: 25.0s
2026-01-18 09:54:18,067 - main - INFO -   Max Retries: 3
2026-01-18 09:54:18,067 - main - INFO -   Rate Limiting: Enabled
2026-01-18 09:54:18,067 - main - INFO -   Metrics: Enabled
2026-01-18 09:54:18,067 - main - INFO -   Cosmos DB: Fallback mode
2026-01-18 09:54:18,068 - main - INFO - ============================================================
2026-01-18 09:54:18,068 - main - INFO - Startup completed successfully
2026-01-18 09:54:18,068 - main - INFO - ============================================================
2026-01-18 09:54:44,961 - main - INFO - ============================================================
2026-01-18 09:54:44,967 - main - INFO - Shutting down Kraftd Docs Backend
2026-01-18 09:54:44,972 - main - INFO - ============================================================
2026-01-18 09:54:44,974 - metrics - INFO - Metrics exported to metrics_export.json
2026-01-18 09:54:44,975 - main - INFO - [OK] Metrics exported successfully
2026-01-18 09:54:53,985 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-18 09:54:54,019 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-18 09:54:54,019 - main - INFO - ============================================================
2026-01-18 09:54:54,019 - main - INFO - Starting Kraftd Docs Backend
2026-01-18 09:54:54,020 - main - INFO - ============================================================
2026-01-18 09:54:54,020 - main - INFO - Configuration valid - Timeout: 30.0s, Retries: 3
2026-01-18 09:54:54,020 - main - INFO - Initializing Azure Cosmos DB...
2026-01-18 09:54:54,020 - services.secrets_manager - INFO - Running in development mode - using environment variables for secrets
2026-01-18 09:54:54,020 - main - WARNING - [WARN] Could not initialize Cosmos DB: Secret 'cosmos-endpoint' not found in Key Vault or environment variables. Set COSMOS_ENDPOINT environment variable or configure AZURE_KEYVAULT_URL.
2026-01-18 09:54:54,021 - main - INFO -       Continuing with fallback mode (in-memory storage)
2026-01-18 09:54:54,021 - main - WARNING - [WARN] Azure Document Intelligence is NOT configured
2026-01-18 09:54:54,021 - main - WARNING -       Set DOCUMENTINTELLIGENCE_ENDPOINT and DOCUMENTINTELLIGENCE_API_KEY
2026-01-18 09:54:54,021 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-18 09:54:54,021 - main - INFO - [OK] Upload directory is writable
2026-01-18 09:54:54,021 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-18 09:54:54,022 - main - INFO - ============================================================
2026-01-18 09:54:54,022 - main - INFO - Startup Configuration:
2026-01-18 09:54:54,022 - main - INFO -   Request Timeout: 30.0s
2026-01-18 09:54:54,022 - main - INFO -   Document Processing Timeout: 25.0s
2026-01-18 09:54:54,022 - main - INFO -   Max Retries: 3
2026-01-18 09:54:54,022 - main - INFO -   Rate Limiting: Enabled
2026-01-18 09:54:54,022 - main - INFO -   Metrics: Enabled
2026-01-18 09:54:54,022 - main - INFO -   Cosmos DB: Fallback mode
2026-01-18 09:54:54,022 - main - INFO - ============================================================
2026-01-18 09:54:54,022 - main - INFO - Startup completed successfully
2026-01-18 09:54:54,022 - main - INFO - ============================================================
2026-01-18 09:55:13,670 - main - INFO - ============================================================
2026-01-18 09:55:13,671 - main - INFO - Shutting down Kraftd Docs Backend
2026-01-18 09:55:13,672 - main - INFO - ============================================================
2026-01-18 09:55:13,675 - metrics - INFO - Metrics exported to metrics_export.json
2026-01-18 09:55:13,675 - main - INFO - [OK] Metrics exported successfully
2026-01-18 09:55:31,159 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-18 09:55:31,192 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-18 09:55:31,193 - main - INFO - ============================================================
2026-01-18 09:55:31,193 - main - INFO - Starting Kraftd Docs Backend
2026-01-18 09:55:31,193 - main - INFO - ============================================================
2026-01-18 09:55:31,193 - main - INFO - Configuration valid - Timeout: 30.0s, Retries: 3
2026-01-18 09:55:31,194 - main - INFO - Initializing Azure Cosmos DB...
2026-01-18 09:55:31,194 - services.secrets_manager - INFO - Running in development mode - using environment variables for secrets
2026-01-18 09:55:31,194 - main - WARNING - [WARN] Could not initialize Cosmos DB: Secret 'cosmos-endpoint' not found in Key Vault or environment variables. Set COSMOS_ENDPOINT environment variable or configure AZURE_KEYVAULT_URL.
2026-01-18 09:55:31,194 - main - INFO -       Continuing with fallback mode (in-memory storage)
2026-01-18 09:55:31,194 - main - WARNING - [WARN] Azure Document Intelligence is NOT configured
2026-01-18 09:55:31,195 - main - WARNING -       Set DOCUMENTINTELLIGENCE_ENDPOINT and DOCUMENTINTELLIGENCE_API_KEY
2026-01-18 09:55:31,195 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-18 09:55:31,195 - main - INFO - [OK] Upload directory is writable
2026-01-18 09:55:31,195 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-18 09:55:31,195 - main - INFO - ============================================================
2026-01-18 09:55:31,195 - main - INFO - Startup Configuration:
2026-01-18 09:55:31,196 - main - INFO -   Request Timeout: 30.0s
2026-01-18 09:55:31,196 - main - INFO -   Document Processing Timeout: 25.0s
2026-01-18 09:55:31,196 - main - INFO -   Max Retries: 3
2026-01-18 09:55:31,196 - main - INFO -   Rate Limiting: Enabled
2026-01-18 09:55:31,197 - main - INFO -   Metrics: Enabled
2026-01-18 09:55:31,197 - main - INFO -   Cosmos DB: Fallback mode
2026-01-18 09:55:31,197 - main - INFO - ============================================================
2026-01-18 09:55:31,197 - main - INFO - Startup completed successfully
2026-01-18 09:55:31,198 - main - INFO - ============================================================
2026-01-18 09:55:53,591 - main - INFO - ============================================================
2026-01-18 09:55:53,593 - main - INFO - Shutting down Kraftd Docs Backend
2026-01-18 09:55:53,594 - main - INFO - ============================================================
2026-01-18 09:55:53,596 - metrics - INFO - Metrics exported to metrics_export.json
2026-01-18 09:55:53,597 - main - INFO - [OK] Metrics exported successfully
2026-01-18 10:02:23,330 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-18 10:02:23,362 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-18 10:02:23,363 - main - INFO - ============================================================
2026-01-18 10:02:23,363 - main - INFO - Starting Kraftd Docs Backend
2026-01-18 10:02:23,363 - main - INFO - ============================================================
2026-01-18 10:02:23,363 - main - INFO - Configuration valid - Timeout: 30.0s, Retries: 3
2026-01-18 10:02:23,363 - main - INFO - Initializing Azure Cosmos DB...
2026-01-18 10:02:23,363 - services.secrets_manager - INFO - Running in development mode - using environment variables for secrets
2026-01-18 10:02:23,364 - main - WARNING - [WARN] Could not initialize Cosmos DB: Secret 'cosmos-endpoint' not found in Key Vault or environment variables. Set COSMOS_ENDPOINT environment variable or configure AZURE_KEYVAULT_URL.
2026-01-18 10:02:23,364 - main - INFO -       Continuing with fallback mode (in-memory storage)
2026-01-18 10:02:23,364 - main - WARNING - [WARN] Azure Document Intelligence is NOT configured
2026-01-18 10:02:23,364 - main - WARNING -       Set DOCUMENTINTELLIGENCE_ENDPOINT and DOCUMENTINTELLIGENCE_API_KEY
2026-01-18 10:02:23,364 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-18 10:02:23,364 - main - INFO - [OK] Upload directory is writable
2026-01-18 10:02:23,364 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-18 10:02:23,364 - main - INFO - ============================================================
2026-01-18 10:02:23,365 - main - INFO - Startup Configuration:
2026-01-18 10:02:23,365 - main - INFO -   Request Timeout: 30.0s
2026-01-18 10:02:23,365 - main - INFO -   Document Processing Timeout: 25.0s
2026-01-18 10:02:23,365 - main - INFO -   Max Retries: 3
2026-01-18 10:02:23,365 - main - INFO -   Rate Limiting: Enabled
2026-01-18 10:02:23,365 - main - INFO -   Metrics: Enabled
2026-01-18 10:02:23,365 - main - INFO -   Cosmos DB: Fallback mode
2026-01-18 10:02:23,365 - main - INFO - ============================================================
2026-01-18 10:02:23,365 - main - INFO - Startup completed successfully
2026-01-18 10:02:23,365 - main - INFO - ============================================================
2026-01-18 10:11:49,677 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-18 10:11:49,705 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-18 10:11:49,706 - main - INFO - ============================================================
2026-01-18 10:11:49,706 - main - INFO - Starting Kraftd Docs Backend
2026-01-18 10:11:49,706 - main - INFO - ============================================================
2026-01-18 10:11:49,706 - main - INFO - Configuration valid - Timeout: 30.0s, Retries: 3
2026-01-18 10:11:49,706 - main - INFO - Initializing Azure Cosmos DB...
2026-01-18 10:11:49,707 - services.secrets_manager - INFO - Running in development mode - using environment variables for secrets
2026-01-18 10:11:49,707 - main - WARNING - [WARN] Could not initialize Cosmos DB: Secret 'cosmos-endpoint' not found in Key Vault or environment variables. Set COSMOS_ENDPOINT environment variable or configure AZURE_KEYVAULT_URL.
2026-01-18 10:11:49,707 - main - INFO -       Continuing with fallback mode (in-memory storage)
2026-01-18 10:11:49,707 - main - WARNING - [WARN] Azure Document Intelligence is NOT configured
2026-01-18 10:11:49,707 - main - WARNING -       Set DOCUMENTINTELLIGENCE_ENDPOINT and DOCUMENTINTELLIGENCE_API_KEY
2026-01-18 10:11:49,707 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-18 10:11:49,707 - main - INFO - [OK] Upload directory is writable
2026-01-18 10:11:49,708 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-18 10:11:49,708 - main - INFO - ============================================================
2026-01-18 10:11:49,708 - main - INFO - Startup Configuration:
2026-01-18 10:11:49,708 - main - INFO -   Request Timeout: 30.0s
2026-01-18 10:11:49,708 - main - INFO -   Document Processing Timeout: 25.0s
2026-01-18 10:11:49,708 - main - INFO -   Max Retries: 3
2026-01-18 10:11:49,708 - main - INFO -   Rate Limiting: Enabled
2026-01-18 10:11:49,708 - main - INFO -   Metrics: Enabled
2026-01-18 10:11:49,708 - main - INFO -   Cosmos DB: Fallback mode
2026-01-18 10:11:49,708 - main - INFO - ============================================================
2026-01-18 10:11:49,708 - main - INFO - Startup completed successfully
2026-01-18 10:11:49,709 - main - INFO - ============================================================
2026-01-18 10:11:49,709 - main - INFO - ============================================================
2026-01-18 10:11:49,709 - main - INFO - Shutting down Kraftd Docs Backend
2026-01-18 10:11:49,709 - main - INFO - ============================================================
2026-01-18 10:11:49,710 - metrics - INFO - Metrics exported to metrics_export.json
2026-01-18 10:11:49,710 - main - INFO - [OK] Metrics exported successfully
2026-01-18 10:12:17,169 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-18 10:12:17,217 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-18 10:12:17,217 - main - INFO - ============================================================
2026-01-18 10:12:17,217 - main - INFO - Starting Kraftd Docs Backend
2026-01-18 10:12:17,217 - main - INFO - ============================================================
2026-01-18 10:12:17,217 - main - INFO - Configuration valid - Timeout: 30.0s, Retries: 3
2026-01-18 10:12:17,218 - main - INFO - Initializing Azure Cosmos DB...
2026-01-18 10:12:17,218 - services.secrets_manager - INFO - Running in development mode - using environment variables for secrets
2026-01-18 10:12:17,218 - main - WARNING - [WARN] Could not initialize Cosmos DB: Secret 'cosmos-endpoint' not found in Key Vault or environment variables. Set COSMOS_ENDPOINT environment variable or configure AZURE_KEYVAULT_URL.
2026-01-18 10:12:17,218 - main - INFO -       Continuing with fallback mode (in-memory storage)
2026-01-18 10:12:17,218 - main - WARNING - [WARN] Azure Document Intelligence is NOT configured
2026-01-18 10:12:17,219 - main - WARNING -       Set DOCUMENTINTELLIGENCE_ENDPOINT and DOCUMENTINTELLIGENCE_API_KEY
2026-01-18 10:12:17,219 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-18 10:12:17,220 - main - INFO - [OK] Upload directory is writable
2026-01-18 10:12:17,220 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-18 10:12:17,220 - main - INFO - ============================================================
2026-01-18 10:12:17,220 - main - INFO - Startup Configuration:
2026-01-18 10:12:17,220 - main - INFO -   Request Timeout: 30.0s
2026-01-18 10:12:17,221 - main - INFO -   Document Processing Timeout: 25.0s
2026-01-18 10:12:17,221 - main - INFO -   Max Retries: 3
2026-01-18 10:12:17,221 - main - INFO -   Rate Limiting: Enabled
2026-01-18 10:12:17,221 - main - INFO -   Metrics: Enabled
2026-01-18 10:12:17,221 - main - INFO -   Cosmos DB: Fallback mode
2026-01-18 10:12:17,221 - main - INFO - ============================================================
2026-01-18 10:12:17,221 - main - INFO - Startup completed successfully
2026-01-18 10:12:17,221 - main - INFO - ============================================================
2026-01-18 10:12:32,332 - main - INFO - ============================================================
2026-01-18 10:12:32,333 - main - INFO - Shutting down Kraftd Docs Backend
2026-01-18 10:12:32,334 - main - INFO - ============================================================
2026-01-18 10:12:32,335 - metrics - INFO - Metrics exported to metrics_export.json
2026-01-18 10:12:32,336 - main - INFO - [OK] Metrics exported successfully
2026-01-18 10:12:40,842 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-18 10:12:40,895 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-18 10:12:40,895 - main - INFO - ============================================================
2026-01-18 10:12:40,896 - main - INFO - Starting Kraftd Docs Backend
2026-01-18 10:12:40,896 - main - INFO - ============================================================
2026-01-18 10:12:40,896 - main - INFO - Configuration valid - Timeout: 30.0s, Retries: 3
2026-01-18 10:12:40,897 - main - INFO - Initializing Azure Cosmos DB...
2026-01-18 10:12:40,897 - services.secrets_manager - INFO - Running in development mode - using environment variables for secrets
2026-01-18 10:12:40,897 - main - WARNING - [WARN] Could not initialize Cosmos DB: Secret 'cosmos-endpoint' not found in Key Vault or environment variables. Set COSMOS_ENDPOINT environment variable or configure AZURE_KEYVAULT_URL.
2026-01-18 10:12:40,898 - main - INFO -       Continuing with fallback mode (in-memory storage)
2026-01-18 10:12:40,898 - main - WARNING - [WARN] Azure Document Intelligence is NOT configured
2026-01-18 10:12:40,898 - main - WARNING -       Set DOCUMENTINTELLIGENCE_ENDPOINT and DOCUMENTINTELLIGENCE_API_KEY
2026-01-18 10:12:40,898 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-18 10:12:40,899 - main - INFO - [OK] Upload directory is writable
2026-01-18 10:12:40,899 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-18 10:12:40,900 - main - INFO - ============================================================
2026-01-18 10:12:40,900 - main - INFO - Startup Configuration:
2026-01-18 10:12:40,900 - main - INFO -   Request Timeout: 30.0s
2026-01-18 10:12:40,901 - main - INFO -   Document Processing Timeout: 25.0s
2026-01-18 10:12:40,901 - main - INFO -   Max Retries: 3
2026-01-18 10:12:40,901 - main - INFO -   Rate Limiting: Enabled
2026-01-18 10:12:40,901 - main - INFO -   Metrics: Enabled
2026-01-18 10:12:40,902 - main - INFO -   Cosmos DB: Fallback mode
2026-01-18 10:12:40,902 - main - INFO - ============================================================
2026-01-18 10:12:40,902 - main - INFO - Startup completed successfully
2026-01-18 10:12:40,902 - main - INFO - ============================================================
2026-01-18 10:13:00,840 - main - INFO - ============================================================
2026-01-18 10:13:00,841 - main - INFO - Shutting down Kraftd Docs Backend
2026-01-18 10:13:00,842 - main - INFO - ============================================================
2026-01-18 10:13:00,843 - metrics - INFO - Metrics exported to metrics_export.json
2026-01-18 10:13:00,844 - main - INFO - [OK] Metrics exported successfully
2026-01-18 10:13:12,394 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-18 10:13:12,447 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-18 10:13:12,448 - main - INFO - ============================================================
2026-01-18 10:13:12,448 - main - INFO - Starting Kraftd Docs Backend
2026-01-18 10:13:12,448 - main - INFO - ============================================================
2026-01-18 10:13:12,448 - main - INFO - Configuration valid - Timeout: 30.0s, Retries: 3
2026-01-18 10:13:12,448 - main - INFO - Initializing Azure Cosmos DB...
2026-01-18 10:13:12,448 - services.secrets_manager - INFO - Running in development mode - using environment variables for secrets
2026-01-18 10:13:12,449 - main - WARNING - [WARN] Could not initialize Cosmos DB: Secret 'cosmos-endpoint' not found in Key Vault or environment variables. Set COSMOS_ENDPOINT environment variable or configure AZURE_KEYVAULT_URL.
2026-01-18 10:13:12,449 - main - INFO -       Continuing with fallback mode (in-memory storage)
2026-01-18 10:13:12,449 - main - WARNING - [WARN] Azure Document Intelligence is NOT configured
2026-01-18 10:13:12,449 - main - WARNING -       Set DOCUMENTINTELLIGENCE_ENDPOINT and DOCUMENTINTELLIGENCE_API_KEY
2026-01-18 10:13:12,449 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-18 10:13:12,449 - main - INFO - [OK] Upload directory is writable
2026-01-18 10:13:12,449 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-18 10:13:12,449 - main - INFO - ============================================================
2026-01-18 10:13:12,449 - main - INFO - Startup Configuration:
2026-01-18 10:13:12,449 - main - INFO -   Request Timeout: 30.0s
2026-01-18 10:13:12,450 - main - INFO -   Document Processing Timeout: 25.0s
2026-01-18 10:13:12,450 - main - INFO -   Max Retries: 3
2026-01-18 10:13:12,450 - main - INFO -   Rate Limiting: Enabled
2026-01-18 10:13:12,450 - main - INFO -   Metrics: Enabled
2026-01-18 10:13:12,450 - main - INFO -   Cosmos DB: Fallback mode
2026-01-18 10:13:12,451 - main - INFO - ============================================================
2026-01-18 10:13:12,451 - main - INFO - Startup completed successfully
2026-01-18 10:13:12,451 - main - INFO - ============================================================
2026-01-18 10:13:26,497 - main - INFO - ============================================================
2026-01-18 10:13:26,498 - main - INFO - Shutting down Kraftd Docs Backend
2026-01-18 10:13:26,499 - main - INFO - ============================================================
2026-01-18 10:13:26,502 - metrics - INFO - Metrics exported to metrics_export.json
2026-01-18 10:13:26,504 - main - INFO - [OK] Metrics exported successfully
2026-01-18 10:22:56,761 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-18 10:22:56,827 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-18 10:22:56,827 - main - INFO - ============================================================
2026-01-18 10:22:56,827 - main - INFO - Starting Kraftd Docs Backend
2026-01-18 10:22:56,827 - main - INFO - ============================================================
2026-01-18 10:22:56,827 - main - INFO - Configuration valid - Timeout: 30.0s, Retries: 3
2026-01-18 10:22:56,827 - main - INFO - Initializing Azure Cosmos DB...
2026-01-18 10:22:56,828 - services.secrets_manager - INFO - Running in development mode - using environment variables for secrets
2026-01-18 10:22:56,828 - main - WARNING - [WARN] Could not initialize Cosmos DB: Secret 'cosmos-endpoint' not found in Key Vault or environment variables. Set COSMOS_ENDPOINT environment variable or configure AZURE_KEYVAULT_URL.
2026-01-18 10:22:56,828 - main - INFO -       Continuing with fallback mode (in-memory storage)
2026-01-18 10:22:56,828 - main - WARNING - [WARN] Azure Document Intelligence is NOT configured
2026-01-18 10:22:56,828 - main - WARNING -       Set DOCUMENTINTELLIGENCE_ENDPOINT and DOCUMENTINTELLIGENCE_API_KEY
2026-01-18 10:22:56,828 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-18 10:22:56,828 - main - INFO - [OK] Upload directory is writable
2026-01-18 10:22:56,829 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-18 10:22:56,829 - main - INFO - ============================================================
2026-01-18 10:22:56,829 - main - INFO - Startup Configuration:
2026-01-18 10:22:56,829 - main - INFO -   Request Timeout: 30.0s
2026-01-18 10:22:56,829 - main - INFO -   Document Processing Timeout: 25.0s
2026-01-18 10:22:56,829 - main - INFO -   Max Retries: 3
2026-01-18 10:22:56,829 - main - INFO -   Rate Limiting: Enabled
2026-01-18 10:22:56,829 - main - INFO -   Metrics: Enabled
2026-01-18 10:22:56,829 - main - INFO -   Cosmos DB: Fallback mode
2026-01-18 10:22:56,829 - main - INFO - ============================================================
2026-01-18 10:22:56,830 - main - INFO - Startup completed successfully
2026-01-18 10:22:56,830 - main - INFO - ============================================================
2026-01-18 10:33:10,598 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-18 10:33:10,644 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-18 10:33:10,644 - main - INFO - ============================================================
2026-01-18 10:33:10,644 - main - INFO - Starting Kraftd Docs Backend
2026-01-18 10:33:10,645 - main - INFO - ============================================================
2026-01-18 10:33:10,645 - main - INFO - Configuration valid - Timeout: 30.0s, Retries: 3
2026-01-18 10:33:10,645 - main - INFO - Initializing Azure Cosmos DB...
2026-01-18 10:33:10,645 - services.secrets_manager - INFO - Running in development mode - using environment variables for secrets
2026-01-18 10:33:10,646 - main - WARNING - [WARN] Could not initialize Cosmos DB: Secret 'cosmos-endpoint' not found in Key Vault or environment variables. Set COSMOS_ENDPOINT environment variable or configure AZURE_KEYVAULT_URL.
2026-01-18 10:33:10,646 - main - INFO -       Continuing with fallback mode (in-memory storage)
2026-01-18 10:33:10,646 - main - WARNING - [WARN] Azure Document Intelligence is NOT configured
2026-01-18 10:33:10,646 - main - WARNING -       Set DOCUMENTINTELLIGENCE_ENDPOINT and DOCUMENTINTELLIGENCE_API_KEY
2026-01-18 10:33:10,647 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-18 10:33:10,647 - main - INFO - [OK] Upload directory is writable
2026-01-18 10:33:10,647 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-18 10:33:10,647 - main - INFO - ============================================================
2026-01-18 10:33:10,647 - main - INFO - Startup Configuration:
2026-01-18 10:33:10,648 - main - INFO -   Request Timeout: 30.0s
2026-01-18 10:33:10,648 - main - INFO -   Document Processing Timeout: 25.0s
2026-01-18 10:33:10,648 - main - INFO -   Max Retries: 3
2026-01-18 10:33:10,648 - main - INFO -   Rate Limiting: Enabled
2026-01-18 10:33:10,648 - main - INFO -   Metrics: Enabled
2026-01-18 10:33:10,648 - main - INFO -   Cosmos DB: Fallback mode
2026-01-18 10:33:10,649 - main - INFO - ============================================================
2026-01-18 10:33:10,649 - main - INFO - Startup completed successfully
2026-01-18 10:33:10,649 - main - INFO - ============================================================
2026-01-18 10:33:10,649 - main - INFO - ============================================================
2026-01-18 10:33:10,649 - main - INFO - Shutting down Kraftd Docs Backend
2026-01-18 10:33:10,650 - main - INFO - ============================================================
2026-01-18 10:33:10,651 - metrics - INFO - Metrics exported to metrics_export.json
2026-01-18 10:33:10,651 - main - INFO - [OK] Metrics exported successfully
2026-01-18 10:33:28,990 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-18 10:33:29,023 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-18 10:33:29,023 - main - INFO - ============================================================
2026-01-18 10:33:29,024 - main - INFO - Starting Kraftd Docs Backend
2026-01-18 10:33:29,024 - main - INFO - ============================================================
2026-01-18 10:33:29,024 - main - INFO - Configuration valid - Timeout: 30.0s, Retries: 3
2026-01-18 10:33:29,024 - main - INFO - Initializing Azure Cosmos DB...
2026-01-18 10:33:29,024 - services.secrets_manager - INFO - Running in development mode - using environment variables for secrets
2026-01-18 10:33:29,024 - main - WARNING - [WARN] Could not initialize Cosmos DB: Secret 'cosmos-endpoint' not found in Key Vault or environment variables. Set COSMOS_ENDPOINT environment variable or configure AZURE_KEYVAULT_URL.
2026-01-18 10:33:29,024 - main - INFO -       Continuing with fallback mode (in-memory storage)
2026-01-18 10:33:29,025 - main - WARNING - [WARN] Azure Document Intelligence is NOT configured
2026-01-18 10:33:29,025 - main - WARNING -       Set DOCUMENTINTELLIGENCE_ENDPOINT and DOCUMENTINTELLIGENCE_API_KEY
2026-01-18 10:33:29,025 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-18 10:33:29,025 - main - INFO - [OK] Upload directory is writable
2026-01-18 10:33:29,025 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-18 10:33:29,025 - main - INFO - ============================================================
2026-01-18 10:33:29,025 - main - INFO - Startup Configuration:
2026-01-18 10:33:29,026 - main - INFO -   Request Timeout: 30.0s
2026-01-18 10:33:29,026 - main - INFO -   Document Processing Timeout: 25.0s
2026-01-18 10:33:29,026 - main - INFO -   Max Retries: 3
2026-01-18 10:33:29,026 - main - INFO -   Rate Limiting: Enabled
2026-01-18 10:33:29,026 - main - INFO -   Metrics: Enabled
2026-01-18 10:33:29,026 - main - INFO -   Cosmos DB: Fallback mode
2026-01-18 10:33:29,026 - main - INFO - ============================================================
2026-01-18 10:33:29,026 - main - INFO - Startup completed successfully
2026-01-18 10:33:29,026 - main - INFO - ============================================================
2026-01-18 13:20:26,571 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-18 14:26:27,816 - main - INFO - Initializing KraftdAI Agent...
2026-01-18 14:26:27,823 - agent.kraft_agent - INFO - Creating KraftdAIAgent instance...
2026-01-18 14:26:27,825 - agent.kraft_agent - INFO - KraftdAIAgent with OCR learning initialized
2026-01-18 14:26:27,826 - agent.kraft_agent - WARNING - Azure OpenAI credentials not configured. Set AZURE_OPENAI_ENDPOINT and AZURE_OPENAI_API_KEY environment variables.
2026-01-18 14:26:27,827 - main - ERROR - Failed to initialize agent: Failed to initialize KraftdAIAgent. Ensure AZURE_OPENAI_ENDPOINT and AZURE_OPENAI_API_KEY are set.
2026-01-18 14:26:43,743 - main - INFO - Agent chat request: Test message...
2026-01-18 14:26:43,743 - main - INFO - Initializing KraftdAI Agent...
2026-01-18 14:26:43,743 - agent.kraft_agent - INFO - Creating KraftdAIAgent instance...
2026-01-18 14:26:43,743 - agent.kraft_agent - INFO - KraftdAIAgent with OCR learning initialized
2026-01-18 14:26:43,744 - agent.kraft_agent - WARNING - Azure OpenAI credentials not configured. Set AZURE_OPENAI_ENDPOINT and AZURE_OPENAI_API_KEY environment variables.
2026-01-18 14:26:43,744 - main - ERROR - Failed to initialize agent: Failed to initialize KraftdAIAgent. Ensure AZURE_OPENAI_ENDPOINT and AZURE_OPENAI_API_KEY are set.
2026-01-18 14:29:50,458 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-18 14:29:50,465 - main - INFO - [OK] Agent API routes registered at /api/v1/agent
2026-01-18 14:29:50,475 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-18 14:29:50,475 - main - INFO - ============================================================
2026-01-18 14:29:50,475 - main - INFO - Starting Kraftd Docs Backend
2026-01-18 14:29:50,476 - main - INFO - ============================================================
2026-01-18 14:29:50,476 - main - INFO - Configuration valid - Timeout: 30.0s, Retries: 3
2026-01-18 14:29:50,477 - main - INFO - Initializing Azure Cosmos DB...
2026-01-18 14:29:50,477 - services.secrets_manager - INFO - Running in development mode - using environment variables for secrets
2026-01-18 14:29:50,477 - main - WARNING - [WARN] Could not initialize Cosmos DB: Secret 'cosmos-endpoint' not found in Key Vault or environment variables. Set COSMOS_ENDPOINT environment variable or configure AZURE_KEYVAULT_URL.
2026-01-18 14:29:50,478 - main - INFO -       Continuing with fallback mode (in-memory storage)
2026-01-18 14:29:50,478 - main - WARNING - [WARN] Azure Document Intelligence is NOT configured
2026-01-18 14:29:50,478 - main - WARNING -       Set DOCUMENTINTELLIGENCE_ENDPOINT and DOCUMENTINTELLIGENCE_API_KEY
2026-01-18 14:29:50,479 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-18 14:29:50,479 - main - INFO - [OK] Upload directory is writable
2026-01-18 14:29:50,479 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-18 14:29:50,479 - main - INFO - [INFO] Cosmos DB not initialized, export tracking in fallback mode
2026-01-18 14:29:50,479 - main - INFO - ============================================================
2026-01-18 14:29:50,479 - main - INFO - Startup Configuration:
2026-01-18 14:29:50,480 - main - INFO -   Request Timeout: 30.0s
2026-01-18 14:29:50,480 - main - INFO -   Document Processing Timeout: 25.0s
2026-01-18 14:29:50,480 - main - INFO -   Max Retries: 3
2026-01-18 14:29:50,480 - main - INFO -   Rate Limiting: Enabled
2026-01-18 14:29:50,480 - main - INFO -   Metrics: Enabled
2026-01-18 14:29:50,480 - main - INFO -   Cosmos DB: Fallback mode
2026-01-18 14:29:50,480 - main - INFO - ============================================================
2026-01-18 14:29:50,481 - main - INFO - Startup completed successfully
2026-01-18 14:29:50,481 - main - INFO - ============================================================
2026-01-18 14:29:50,482 - main - INFO - ============================================================
2026-01-18 14:29:50,483 - main - INFO - Shutting down Kraftd Docs Backend
2026-01-18 14:29:50,483 - main - INFO - ============================================================
2026-01-18 14:29:50,484 - metrics - INFO - Metrics exported to metrics_export.json
2026-01-18 14:29:50,485 - main - INFO - [OK] Metrics exported successfully
2026-01-18 14:30:45,728 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-18 14:30:45,737 - main - INFO - [OK] Agent API routes registered at /api/v1/agent
2026-01-18 14:30:45,751 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-18 14:30:45,752 - main - INFO - ============================================================
2026-01-18 14:30:45,752 - main - INFO - Starting Kraftd Docs Backend
2026-01-18 14:30:45,752 - main - INFO - ============================================================
2026-01-18 14:30:45,753 - main - INFO - Configuration valid - Timeout: 30.0s, Retries: 3
2026-01-18 14:30:45,753 - main - INFO - Initializing Azure Cosmos DB...
2026-01-18 14:30:45,753 - services.secrets_manager - INFO - Running in development mode - using environment variables for secrets
2026-01-18 14:30:45,754 - main - WARNING - [WARN] Could not initialize Cosmos DB: Secret 'cosmos-endpoint' not found in Key Vault or environment variables. Set COSMOS_ENDPOINT environment variable or configure AZURE_KEYVAULT_URL.
2026-01-18 14:30:45,754 - main - INFO -       Continuing with fallback mode (in-memory storage)
2026-01-18 14:30:45,755 - main - WARNING - [WARN] Azure Document Intelligence is NOT configured
2026-01-18 14:30:45,755 - main - WARNING -       Set DOCUMENTINTELLIGENCE_ENDPOINT and DOCUMENTINTELLIGENCE_API_KEY
2026-01-18 14:30:45,755 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-18 14:30:45,755 - main - INFO - [OK] Upload directory is writable
2026-01-18 14:30:45,755 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-18 14:30:45,755 - main - INFO - [INFO] Cosmos DB not initialized, export tracking in fallback mode
2026-01-18 14:30:45,756 - main - INFO - ============================================================
2026-01-18 14:30:45,756 - main - INFO - Startup Configuration:
2026-01-18 14:30:45,756 - main - INFO -   Request Timeout: 30.0s
2026-01-18 14:30:45,756 - main - INFO -   Document Processing Timeout: 25.0s
2026-01-18 14:30:45,756 - main - INFO -   Max Retries: 3
2026-01-18 14:30:45,756 - main - INFO -   Rate Limiting: Enabled
2026-01-18 14:30:45,756 - main - INFO -   Metrics: Enabled
2026-01-18 14:30:45,757 - main - INFO -   Cosmos DB: Fallback mode
2026-01-18 14:30:45,757 - main - INFO - ============================================================
2026-01-18 14:30:45,757 - main - INFO - Startup completed successfully
2026-01-18 14:30:45,757 - main - INFO - ============================================================
2026-01-18 14:31:16,537 - main - INFO - ============================================================
2026-01-18 14:31:16,539 - main - INFO - Shutting down Kraftd Docs Backend
2026-01-18 14:31:16,541 - main - INFO - ============================================================
2026-01-18 14:31:16,544 - metrics - INFO - Metrics exported to metrics_export.json
2026-01-18 14:31:16,545 - main - INFO - [OK] Metrics exported successfully
2026-01-18 14:31:26,197 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-18 14:31:26,212 - main - INFO - [OK] Agent API routes registered at /api/v1/agent
2026-01-18 14:31:26,237 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-18 14:31:26,239 - main - INFO - ============================================================
2026-01-18 14:31:26,239 - main - INFO - Starting Kraftd Docs Backend
2026-01-18 14:31:26,240 - main - INFO - ============================================================
2026-01-18 14:31:26,241 - main - INFO - Configuration valid - Timeout: 30.0s, Retries: 3
2026-01-18 14:31:26,242 - main - INFO - Initializing Azure Cosmos DB...
2026-01-18 14:31:26,243 - services.secrets_manager - INFO - Running in development mode - using environment variables for secrets
2026-01-18 14:31:26,244 - main - WARNING - [WARN] Could not initialize Cosmos DB: Secret 'cosmos-endpoint' not found in Key Vault or environment variables. Set COSMOS_ENDPOINT environment variable or configure AZURE_KEYVAULT_URL.
2026-01-18 14:31:26,245 - main - INFO -       Continuing with fallback mode (in-memory storage)
2026-01-18 14:31:26,245 - main - WARNING - [WARN] Azure Document Intelligence is NOT configured
2026-01-18 14:31:26,246 - main - WARNING -       Set DOCUMENTINTELLIGENCE_ENDPOINT and DOCUMENTINTELLIGENCE_API_KEY
2026-01-18 14:31:26,246 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-18 14:31:26,247 - main - INFO - [OK] Upload directory is writable
2026-01-18 14:31:26,248 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-18 14:31:26,248 - main - INFO - [INFO] Cosmos DB not initialized, export tracking in fallback mode
2026-01-18 14:31:26,248 - main - INFO - ============================================================
2026-01-18 14:31:26,249 - main - INFO - Startup Configuration:
2026-01-18 14:31:26,249 - main - INFO -   Request Timeout: 30.0s
2026-01-18 14:31:26,250 - main - INFO -   Document Processing Timeout: 25.0s
2026-01-18 14:31:26,251 - main - INFO -   Max Retries: 3
2026-01-18 14:31:26,251 - main - INFO -   Rate Limiting: Enabled
2026-01-18 14:31:26,252 - main - INFO -   Metrics: Enabled
2026-01-18 14:31:26,252 - main - INFO -   Cosmos DB: Fallback mode
2026-01-18 14:31:26,253 - main - INFO - ============================================================
2026-01-18 14:31:26,253 - main - INFO - Startup completed successfully
2026-01-18 14:31:26,254 - main - INFO - ============================================================
2026-01-18 14:32:01,964 - main - INFO - ============================================================
2026-01-18 14:32:01,966 - main - INFO - Shutting down Kraftd Docs Backend
2026-01-18 14:32:01,967 - main - INFO - ============================================================
2026-01-18 14:32:01,970 - metrics - INFO - Metrics exported to metrics_export.json
2026-01-18 14:32:01,971 - main - INFO - [OK] Metrics exported successfully
2026-01-18 14:33:16,504 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-18 14:33:16,510 - main - INFO - [OK] Agent API routes registered at /api/v1/agent
2026-01-18 14:33:16,518 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-18 14:33:16,519 - main - INFO - ============================================================
2026-01-18 14:33:16,519 - main - INFO - Starting Kraftd Docs Backend
2026-01-18 14:33:16,519 - main - INFO - ============================================================
2026-01-18 14:33:16,520 - main - INFO - Configuration valid - Timeout: 30.0s, Retries: 3
2026-01-18 14:33:16,520 - main - INFO - Initializing Azure Cosmos DB...
2026-01-18 14:33:16,520 - services.secrets_manager - INFO - Running in development mode - using environment variables for secrets
2026-01-18 14:33:16,521 - main - WARNING - [WARN] Could not initialize Cosmos DB: Secret 'cosmos-endpoint' not found in Key Vault or environment variables. Set COSMOS_ENDPOINT environment variable or configure AZURE_KEYVAULT_URL.
2026-01-18 14:33:16,521 - main - INFO -       Continuing with fallback mode (in-memory storage)
2026-01-18 14:33:16,521 - main - WARNING - [WARN] Azure Document Intelligence is NOT configured
2026-01-18 14:33:16,521 - main - WARNING -       Set DOCUMENTINTELLIGENCE_ENDPOINT and DOCUMENTINTELLIGENCE_API_KEY
2026-01-18 14:33:16,521 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-18 14:33:16,522 - main - INFO - [OK] Upload directory is writable
2026-01-18 14:33:16,522 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-18 14:33:16,522 - main - INFO - [INFO] Cosmos DB not initialized, export tracking in fallback mode
2026-01-18 14:33:16,522 - main - INFO - ============================================================
2026-01-18 14:33:16,522 - main - INFO - Startup Configuration:
2026-01-18 14:33:16,522 - main - INFO -   Request Timeout: 30.0s
2026-01-18 14:33:16,522 - main - INFO -   Document Processing Timeout: 25.0s
2026-01-18 14:33:16,522 - main - INFO -   Max Retries: 3
2026-01-18 14:33:16,522 - main - INFO -   Rate Limiting: Enabled
2026-01-18 14:33:16,522 - main - INFO -   Metrics: Enabled
2026-01-18 14:33:16,523 - main - INFO -   Cosmos DB: Fallback mode
2026-01-18 14:33:16,523 - main - INFO - ============================================================
2026-01-18 14:33:16,523 - main - INFO - Startup completed successfully
2026-01-18 14:33:16,523 - main - INFO - ============================================================
2026-01-18 14:33:52,133 - main - INFO - ============================================================
2026-01-18 14:33:52,135 - main - INFO - Shutting down Kraftd Docs Backend
2026-01-18 14:33:52,136 - main - INFO - ============================================================
2026-01-18 14:33:52,140 - metrics - INFO - Metrics exported to metrics_export.json
2026-01-18 14:33:52,140 - main - INFO - [OK] Metrics exported successfully
2026-01-18 14:41:39,081 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-18 14:41:39,089 - main - INFO - [OK] Agent API routes registered at /api/v1/agent
2026-01-18 14:41:39,101 - main - INFO - [OK] Template routes registered at /api/v1/templates
2026-01-18 14:41:39,114 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-18 14:41:39,114 - main - INFO - ============================================================
2026-01-18 14:41:39,115 - main - INFO - Starting Kraftd Docs Backend
2026-01-18 14:41:39,115 - main - INFO - ============================================================
2026-01-18 14:41:39,115 - main - INFO - Configuration valid - Timeout: 30.0s, Retries: 3
2026-01-18 14:41:39,115 - main - INFO - Initializing Azure Cosmos DB...
2026-01-18 14:41:39,116 - services.secrets_manager - INFO - Running in development mode - using environment variables for secrets
2026-01-18 14:41:39,116 - main - WARNING - [WARN] Could not initialize Cosmos DB: Secret 'cosmos-endpoint' not found in Key Vault or environment variables. Set COSMOS_ENDPOINT environment variable or configure AZURE_KEYVAULT_URL.
2026-01-18 14:41:39,116 - main - INFO -       Continuing with fallback mode (in-memory storage)
2026-01-18 14:41:39,116 - main - WARNING - [WARN] Azure Document Intelligence is NOT configured
2026-01-18 14:41:39,116 - main - WARNING -       Set DOCUMENTINTELLIGENCE_ENDPOINT and DOCUMENTINTELLIGENCE_API_KEY
2026-01-18 14:41:39,116 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-18 14:41:39,116 - main - INFO - [OK] Upload directory is writable
2026-01-18 14:41:39,117 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-18 14:41:39,117 - main - INFO - [INFO] Cosmos DB not initialized, export tracking in fallback mode
2026-01-18 14:41:39,117 - main - INFO - ============================================================
2026-01-18 14:41:39,117 - main - INFO - Startup Configuration:
2026-01-18 14:41:39,117 - main - INFO -   Request Timeout: 30.0s
2026-01-18 14:41:39,117 - main - INFO -   Document Processing Timeout: 25.0s
2026-01-18 14:41:39,117 - main - INFO -   Max Retries: 3
2026-01-18 14:41:39,118 - main - INFO -   Rate Limiting: Enabled
2026-01-18 14:41:39,118 - main - INFO -   Metrics: Enabled
2026-01-18 14:41:39,118 - main - INFO -   Cosmos DB: Fallback mode
2026-01-18 14:41:39,118 - main - INFO - ============================================================
2026-01-18 14:41:39,118 - main - INFO - Startup completed successfully
2026-01-18 14:41:39,118 - main - INFO - ============================================================
2026-01-18 14:41:53,936 - main - INFO - ============================================================
2026-01-18 14:41:53,937 - main - INFO - Shutting down Kraftd Docs Backend
2026-01-18 14:41:53,938 - main - INFO - ============================================================
2026-01-18 14:41:53,940 - metrics - INFO - Metrics exported to metrics_export.json
2026-01-18 14:41:53,940 - main - INFO - [OK] Metrics exported successfully
2026-01-18 14:42:18,286 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-18 14:42:18,292 - main - INFO - [OK] Agent API routes registered at /api/v1/agent
2026-01-18 14:42:18,302 - main - INFO - [OK] Template routes registered at /api/v1/templates
2026-01-18 14:42:18,309 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-18 14:42:18,310 - main - INFO - ============================================================
2026-01-18 14:42:18,310 - main - INFO - Starting Kraftd Docs Backend
2026-01-18 14:42:18,311 - main - INFO - ============================================================
2026-01-18 14:42:18,311 - main - INFO - Configuration valid - Timeout: 30.0s, Retries: 3
2026-01-18 14:42:18,311 - main - INFO - Initializing Azure Cosmos DB...
2026-01-18 14:42:18,311 - services.secrets_manager - INFO - Running in development mode - using environment variables for secrets
2026-01-18 14:42:18,312 - main - WARNING - [WARN] Could not initialize Cosmos DB: Secret 'cosmos-endpoint' not found in Key Vault or environment variables. Set COSMOS_ENDPOINT environment variable or configure AZURE_KEYVAULT_URL.
2026-01-18 14:42:18,312 - main - INFO -       Continuing with fallback mode (in-memory storage)
2026-01-18 14:42:18,313 - main - WARNING - [WARN] Azure Document Intelligence is NOT configured
2026-01-18 14:42:18,313 - main - WARNING -       Set DOCUMENTINTELLIGENCE_ENDPOINT and DOCUMENTINTELLIGENCE_API_KEY
2026-01-18 14:42:18,313 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-18 14:42:18,313 - main - INFO - [OK] Upload directory is writable
2026-01-18 14:42:18,313 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-18 14:42:18,313 - main - INFO - [INFO] Cosmos DB not initialized, export tracking in fallback mode
2026-01-18 14:42:18,314 - main - INFO - ============================================================
2026-01-18 14:42:18,314 - main - INFO - Startup Configuration:
2026-01-18 14:42:18,314 - main - INFO -   Request Timeout: 30.0s
2026-01-18 14:42:18,314 - main - INFO -   Document Processing Timeout: 25.0s
2026-01-18 14:42:18,314 - main - INFO -   Max Retries: 3
2026-01-18 14:42:18,314 - main - INFO -   Rate Limiting: Enabled
2026-01-18 14:42:18,314 - main - INFO -   Metrics: Enabled
2026-01-18 14:42:18,314 - main - INFO -   Cosmos DB: Fallback mode
2026-01-18 14:42:18,314 - main - INFO - ============================================================
2026-01-18 14:42:18,314 - main - INFO - Startup completed successfully
2026-01-18 14:42:18,315 - main - INFO - ============================================================
2026-01-18 14:42:36,390 - main - INFO - ============================================================
2026-01-18 14:42:36,392 - main - INFO - Shutting down Kraftd Docs Backend
2026-01-18 14:42:36,393 - main - INFO - ============================================================
2026-01-18 14:42:36,396 - metrics - INFO - Metrics exported to metrics_export.json
2026-01-18 14:42:36,396 - main - INFO - [OK] Metrics exported successfully
2026-01-18 14:49:35,894 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-18 14:49:35,910 - main - INFO - [OK] Agent API routes registered at /api/v1/agent
2026-01-18 14:49:35,937 - main - INFO - [OK] Template routes registered at /api/v1/templates
2026-01-18 14:49:35,960 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-18 14:49:35,962 - main - INFO - ============================================================
2026-01-18 14:49:35,962 - main - INFO - Starting Kraftd Docs Backend
2026-01-18 14:49:35,963 - main - INFO - ============================================================
2026-01-18 14:49:35,964 - main - INFO - Configuration valid - Timeout: 30.0s, Retries: 3
2026-01-18 14:49:35,964 - main - INFO - Initializing Azure Cosmos DB...
2026-01-18 14:49:35,965 - services.secrets_manager - INFO - Running in development mode - using environment variables for secrets
2026-01-18 14:49:35,965 - main - WARNING - [WARN] Could not initialize Cosmos DB: Secret 'cosmos-endpoint' not found in Key Vault or environment variables. Set COSMOS_ENDPOINT environment variable or configure AZURE_KEYVAULT_URL.
2026-01-18 14:49:35,966 - main - INFO -       Continuing with fallback mode (in-memory storage)
2026-01-18 14:49:35,966 - main - WARNING - [WARN] Azure Document Intelligence is NOT configured
2026-01-18 14:49:35,966 - main - WARNING -       Set DOCUMENTINTELLIGENCE_ENDPOINT and DOCUMENTINTELLIGENCE_API_KEY
2026-01-18 14:49:35,967 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-18 14:49:35,967 - main - INFO - [OK] Upload directory is writable
2026-01-18 14:49:35,968 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-18 14:49:35,968 - main - INFO - [INFO] Cosmos DB not initialized, export tracking in fallback mode
2026-01-18 14:49:35,969 - main - INFO - ============================================================
2026-01-18 14:49:35,970 - main - INFO - Startup Configuration:
2026-01-18 14:49:35,970 - main - INFO -   Request Timeout: 30.0s
2026-01-18 14:49:35,970 - main - INFO -   Document Processing Timeout: 25.0s
2026-01-18 14:49:35,971 - main - INFO -   Max Retries: 3
2026-01-18 14:49:35,972 - main - INFO -   Rate Limiting: Enabled
2026-01-18 14:49:35,972 - main - INFO -   Metrics: Enabled
2026-01-18 14:49:35,973 - main - INFO -   Cosmos DB: Fallback mode
2026-01-18 14:49:35,973 - main - INFO - ============================================================
2026-01-18 14:49:35,974 - main - INFO - Startup completed successfully
2026-01-18 14:49:35,974 - main - INFO - ============================================================
2026-01-18 14:50:57,344 - agent.kraft_agent - INFO - Creating KraftdAIAgent instance...
2026-01-18 14:50:57,345 - agent.kraft_agent - INFO - KraftdAIAgent with OCR learning initialized
2026-01-18 14:50:57,345 - agent.kraft_agent - WARNING - Azure OpenAI credentials not configured. Set AZURE_OPENAI_ENDPOINT and AZURE_OPENAI_API_KEY environment variables.
2026-01-18 14:50:57,345 - routes.agent - ERROR - Failed to initialize agent: Failed to initialize KraftdAIAgent. Ensure AZURE_OPENAI_ENDPOINT and AZURE_OPENAI_API_KEY are set.
Traceback (most recent call last):
  File "C:\Users\1R6\OneDrive\Project Catalyst\KraftdIntel\backend\routes\agent.py", line 185, in get_agent
    _agent_instance = await KraftdAIAgent.create()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\1R6\OneDrive\Project Catalyst\KraftdIntel\backend\agent\kraft_agent.py", line 152, in create
    raise RuntimeError(
    ...<2 lines>...
    )
RuntimeError: Failed to initialize KraftdAIAgent. Ensure AZURE_OPENAI_ENDPOINT and AZURE_OPENAI_API_KEY are set.
2026-01-18 14:50:57,368 - agent.kraft_agent - INFO - Creating KraftdAIAgent instance...
2026-01-18 14:50:57,369 - agent.kraft_agent - INFO - KraftdAIAgent with OCR learning initialized
2026-01-18 14:50:57,369 - agent.kraft_agent - WARNING - Azure OpenAI credentials not configured. Set AZURE_OPENAI_ENDPOINT and AZURE_OPENAI_API_KEY environment variables.
2026-01-18 14:50:57,370 - routes.agent - ERROR - Failed to initialize agent: Failed to initialize KraftdAIAgent. Ensure AZURE_OPENAI_ENDPOINT and AZURE_OPENAI_API_KEY are set.
Traceback (most recent call last):
  File "C:\Users\1R6\OneDrive\Project Catalyst\KraftdIntel\backend\routes\agent.py", line 185, in get_agent
    _agent_instance = await KraftdAIAgent.create()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\1R6\OneDrive\Project Catalyst\KraftdIntel\backend\agent\kraft_agent.py", line 152, in create
    raise RuntimeError(
    ...<2 lines>...
    )
RuntimeError: Failed to initialize KraftdAIAgent. Ensure AZURE_OPENAI_ENDPOINT and AZURE_OPENAI_API_KEY are set.
2026-01-18 14:50:57,385 - agent.kraft_agent - INFO - Creating KraftdAIAgent instance...
2026-01-18 14:50:57,385 - agent.kraft_agent - INFO - KraftdAIAgent with OCR learning initialized
2026-01-18 14:50:57,386 - agent.kraft_agent - WARNING - Azure OpenAI credentials not configured. Set AZURE_OPENAI_ENDPOINT and AZURE_OPENAI_API_KEY environment variables.
2026-01-18 14:50:57,386 - routes.agent - ERROR - Failed to initialize agent: Failed to initialize KraftdAIAgent. Ensure AZURE_OPENAI_ENDPOINT and AZURE_OPENAI_API_KEY are set.
Traceback (most recent call last):
  File "C:\Users\1R6\OneDrive\Project Catalyst\KraftdIntel\backend\routes\agent.py", line 185, in get_agent
    _agent_instance = await KraftdAIAgent.create()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\1R6\OneDrive\Project Catalyst\KraftdIntel\backend\agent\kraft_agent.py", line 152, in create
    raise RuntimeError(
    ...<2 lines>...
    )
RuntimeError: Failed to initialize KraftdAIAgent. Ensure AZURE_OPENAI_ENDPOINT and AZURE_OPENAI_API_KEY are set.
2026-01-18 14:50:57,417 - services.cosmos_service - WARNING - Cosmos DB credentials not configured, running in development mode
2026-01-18 14:50:57,683 - main - WARNING - Cosmos DB not available, using in-memory storage
2026-01-18 14:50:57,683 - services.secrets_manager - WARNING -   No JWT secret configured. Using temporary insecure default. Set JWT_SECRET_KEY environment variable or configure Azure Key Vault.
2026-01-18 14:50:57,686 - services.secrets_manager - WARNING -   No JWT secret configured. Using temporary insecure default. Set JWT_SECRET_KEY environment variable or configure Azure Key Vault.
2026-01-18 14:50:57,719 - main - WARNING - Cosmos DB not available, using in-memory storage for login
2026-01-18 14:50:57,985 - services.secrets_manager - WARNING -   No JWT secret configured. Using temporary insecure default. Set JWT_SECRET_KEY environment variable or configure Azure Key Vault.
2026-01-18 14:50:57,986 - services.secrets_manager - WARNING -   No JWT secret configured. Using temporary insecure default. Set JWT_SECRET_KEY environment variable or configure Azure Key Vault.
2026-01-18 14:50:57,986 - main - INFO - User logged in: e2etest-1768737057@example.com
2026-01-18 14:50:58,001 - main - WARNING - Cosmos DB not available, using in-memory storage for login
2026-01-18 14:50:58,369 - routes.templates - INFO - Listed 3 templates (total: 3)
2026-01-18 14:50:58,428 - services.template_service - INFO - Template validation successful, found 0 variables
2026-01-18 14:50:58,429 - services.template_storage - INFO - Template created: 4f942da2-bb41-418d-8eb3-ff4132d391c8 by admin
2026-01-18 14:50:58,430 - routes.templates - INFO - Template created: 4f942da2-bb41-418d-8eb3-ff4132d391c8 by admin
2026-01-18 14:50:58,464 - services.template_service - INFO - Template validation successful, found 0 variables
2026-01-18 14:50:58,483 - services.template_service - INFO - Template validation successful, found 0 variables
2026-01-18 14:50:58,484 - services.template_storage - INFO - Template updated: 4f942da2-bb41-418d-8eb3-ff4132d391c8
2026-01-18 14:50:58,485 - routes.templates - INFO - Template updated: 4f942da2-bb41-418d-8eb3-ff4132d391c8
2026-01-18 14:50:58,492 - services.template_storage - INFO - Template created: e9a4ad62-ba36-4650-bebb-1e2bc3f2303d by admin
2026-01-18 14:50:58,493 - services.template_storage - INFO - Template duplicated: 4f942da2-bb41-418d-8eb3-ff4132d391c8 -> e9a4ad62-ba36-4650-bebb-1e2bc3f2303d
2026-01-18 14:50:58,493 - routes.templates - INFO - Template duplicated: 4f942da2-bb41-418d-8eb3-ff4132d391c8 -> e9a4ad62-ba36-4650-bebb-1e2bc3f2303d
2026-01-18 14:50:58,524 - services.template_storage - INFO - Template deleted: 4f942da2-bb41-418d-8eb3-ff4132d391c8
2026-01-18 14:50:58,525 - routes.templates - INFO - Template deleted: 4f942da2-bb41-418d-8eb3-ff4132d391c8
2026-01-18 14:50:58,553 - routes.templates - INFO - Listed 4 templates (total: 4)
2026-01-18 14:50:58,560 - routes.templates - INFO - Listed 4 templates (total: 4)
2026-01-18 14:53:04,694 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-18 14:53:04,717 - main - INFO - [OK] Auth routes registered at /api/v1/auth
2026-01-18 14:53:04,723 - main - INFO - [OK] Agent API routes registered at /api/v1/agent
2026-01-18 14:53:04,735 - main - INFO - [OK] Template routes registered at /api/v1/templates
2026-01-18 14:53:04,753 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-18 14:53:04,754 - main - INFO - ============================================================
2026-01-18 14:53:04,755 - main - INFO - Starting Kraftd Docs Backend
2026-01-18 14:53:04,756 - main - INFO - ============================================================
2026-01-18 14:53:04,757 - main - INFO - Configuration valid - Timeout: 30.0s, Retries: 3
2026-01-18 14:53:04,759 - main - INFO - Initializing Azure Cosmos DB...
2026-01-18 14:53:04,760 - services.secrets_manager - INFO - Running in development mode - using environment variables for secrets
2026-01-18 14:53:04,761 - main - WARNING - [WARN] Could not initialize Cosmos DB: Secret 'cosmos-endpoint' not found in Key Vault or environment variables. Set COSMOS_ENDPOINT environment variable or configure AZURE_KEYVAULT_URL.
2026-01-18 14:53:04,762 - main - INFO -       Continuing with fallback mode (in-memory storage)
2026-01-18 14:53:04,764 - main - WARNING - [WARN] Azure Document Intelligence is NOT configured
2026-01-18 14:53:04,766 - main - WARNING -       Set DOCUMENTINTELLIGENCE_ENDPOINT and DOCUMENTINTELLIGENCE_API_KEY
2026-01-18 14:53:04,767 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-18 14:53:04,769 - main - INFO - [OK] Upload directory is writable
2026-01-18 14:53:04,771 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-18 14:53:04,772 - main - INFO - [INFO] Cosmos DB not initialized, export tracking in fallback mode
2026-01-18 14:53:04,774 - main - INFO - ============================================================
2026-01-18 14:53:04,775 - main - INFO - Startup Configuration:
2026-01-18 14:53:04,777 - main - INFO -   Request Timeout: 30.0s
2026-01-18 14:53:04,779 - main - INFO -   Document Processing Timeout: 25.0s
2026-01-18 14:53:04,780 - main - INFO -   Max Retries: 3
2026-01-18 14:53:04,781 - main - INFO -   Rate Limiting: Enabled
2026-01-18 14:53:04,782 - main - INFO -   Metrics: Enabled
2026-01-18 14:53:04,783 - main - INFO -   Cosmos DB: Fallback mode
2026-01-18 14:53:04,784 - main - INFO - ============================================================
2026-01-18 14:53:04,785 - main - INFO - Startup completed successfully
2026-01-18 14:53:04,787 - main - INFO - ============================================================
2026-01-18 14:53:21,399 - main - INFO - ============================================================
2026-01-18 14:53:21,401 - main - INFO - Shutting down Kraftd Docs Backend
2026-01-18 14:53:21,401 - main - INFO - ============================================================
2026-01-18 14:53:21,403 - metrics - INFO - Metrics exported to metrics_export.json
2026-01-18 14:53:21,404 - main - INFO - [OK] Metrics exported successfully
2026-01-18 14:53:50,035 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-18 14:53:50,048 - main - INFO - [OK] Auth routes registered at /api/v1/auth
2026-01-18 14:53:50,053 - main - INFO - [OK] Agent API routes registered at /api/v1/agent
2026-01-18 14:53:50,071 - main - INFO - [OK] Template routes registered at /api/v1/templates
2026-01-18 14:53:50,091 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-18 14:53:50,092 - main - INFO - ============================================================
2026-01-18 14:53:50,093 - main - INFO - Starting Kraftd Docs Backend
2026-01-18 14:53:50,093 - main - INFO - ============================================================
2026-01-18 14:53:50,094 - main - INFO - Configuration valid - Timeout: 30.0s, Retries: 3
2026-01-18 14:53:50,094 - main - INFO - Initializing Azure Cosmos DB...
2026-01-18 14:53:50,095 - services.secrets_manager - INFO - Running in development mode - using environment variables for secrets
2026-01-18 14:53:50,095 - main - WARNING - [WARN] Could not initialize Cosmos DB: Secret 'cosmos-endpoint' not found in Key Vault or environment variables. Set COSMOS_ENDPOINT environment variable or configure AZURE_KEYVAULT_URL.
2026-01-18 14:53:50,096 - main - INFO -       Continuing with fallback mode (in-memory storage)
2026-01-18 14:53:50,096 - main - WARNING - [WARN] Azure Document Intelligence is NOT configured
2026-01-18 14:53:50,096 - main - WARNING -       Set DOCUMENTINTELLIGENCE_ENDPOINT and DOCUMENTINTELLIGENCE_API_KEY
2026-01-18 14:53:50,097 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-18 14:53:50,097 - main - INFO - [OK] Upload directory is writable
2026-01-18 14:53:50,099 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-18 14:53:50,099 - main - INFO - [INFO] Cosmos DB not initialized, export tracking in fallback mode
2026-01-18 14:53:50,100 - main - INFO - ============================================================
2026-01-18 14:53:50,101 - main - INFO - Startup Configuration:
2026-01-18 14:53:50,102 - main - INFO -   Request Timeout: 30.0s
2026-01-18 14:53:50,102 - main - INFO -   Document Processing Timeout: 25.0s
2026-01-18 14:53:50,103 - main - INFO -   Max Retries: 3
2026-01-18 14:53:50,103 - main - INFO -   Rate Limiting: Enabled
2026-01-18 14:53:50,104 - main - INFO -   Metrics: Enabled
2026-01-18 14:53:50,104 - main - INFO -   Cosmos DB: Fallback mode
2026-01-18 14:53:50,104 - main - INFO - ============================================================
2026-01-18 14:53:50,104 - main - INFO - Startup completed successfully
2026-01-18 14:53:50,104 - main - INFO - ============================================================
2026-01-18 14:53:58,405 - main - INFO - ============================================================
2026-01-18 14:53:58,407 - main - INFO - Shutting down Kraftd Docs Backend
2026-01-18 14:53:58,408 - main - INFO - ============================================================
2026-01-18 14:53:58,411 - metrics - INFO - Metrics exported to metrics_export.json
2026-01-18 14:53:58,411 - main - INFO - [OK] Metrics exported successfully
2026-01-18 14:54:30,214 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-18 14:54:30,222 - main - INFO - [OK] Auth routes registered at /api/v1/auth
2026-01-18 14:54:30,224 - main - INFO - [OK] Agent API routes registered at /api/v1/agent
2026-01-18 14:54:30,232 - main - INFO - [OK] Template routes registered at /api/v1/templates
2026-01-18 14:54:30,239 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-18 14:54:30,240 - main - INFO - ============================================================
2026-01-18 14:54:30,240 - main - INFO - Starting Kraftd Docs Backend
2026-01-18 14:54:30,240 - main - INFO - ============================================================
2026-01-18 14:54:30,241 - main - INFO - Configuration valid - Timeout: 30.0s, Retries: 3
2026-01-18 14:54:30,241 - main - INFO - Initializing Azure Cosmos DB...
2026-01-18 14:54:30,241 - services.secrets_manager - INFO - Running in development mode - using environment variables for secrets
2026-01-18 14:54:30,241 - main - WARNING - [WARN] Could not initialize Cosmos DB: Secret 'cosmos-endpoint' not found in Key Vault or environment variables. Set COSMOS_ENDPOINT environment variable or configure AZURE_KEYVAULT_URL.
2026-01-18 14:54:30,241 - main - INFO -       Continuing with fallback mode (in-memory storage)
2026-01-18 14:54:30,241 - main - WARNING - [WARN] Azure Document Intelligence is NOT configured
2026-01-18 14:54:30,242 - main - WARNING -       Set DOCUMENTINTELLIGENCE_ENDPOINT and DOCUMENTINTELLIGENCE_API_KEY
2026-01-18 14:54:30,242 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-18 14:54:30,242 - main - INFO - [OK] Upload directory is writable
2026-01-18 14:54:30,242 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-18 14:54:30,242 - main - INFO - [INFO] Cosmos DB not initialized, export tracking in fallback mode
2026-01-18 14:54:30,242 - main - INFO - ============================================================
2026-01-18 14:54:30,242 - main - INFO - Startup Configuration:
2026-01-18 14:54:30,242 - main - INFO -   Request Timeout: 30.0s
2026-01-18 14:54:30,242 - main - INFO -   Document Processing Timeout: 25.0s
2026-01-18 14:54:30,242 - main - INFO -   Max Retries: 3
2026-01-18 14:54:30,243 - main - INFO -   Rate Limiting: Enabled
2026-01-18 14:54:30,243 - main - INFO -   Metrics: Enabled
2026-01-18 14:54:30,243 - main - INFO -   Cosmos DB: Fallback mode
2026-01-18 14:54:30,243 - main - INFO - ============================================================
2026-01-18 14:54:30,243 - main - INFO - Startup completed successfully
2026-01-18 14:54:30,243 - main - INFO - ============================================================
2026-01-18 14:54:47,819 - main - INFO - ============================================================
2026-01-18 14:54:47,821 - main - INFO - Shutting down Kraftd Docs Backend
2026-01-18 14:54:47,821 - main - INFO - ============================================================
2026-01-18 14:54:47,825 - metrics - INFO - Metrics exported to metrics_export.json
2026-01-18 14:54:47,825 - main - INFO - [OK] Metrics exported successfully
2026-01-18 15:25:00,210 - main - INFO - Rate limiting enabled: 60 req/min
2026-01-18 15:25:00,231 - main - INFO - [OK] Auth routes registered at /api/v1/auth
2026-01-18 15:25:00,235 - main - INFO - [OK] Agent API routes registered at /api/v1/agent
2026-01-18 15:25:00,247 - main - INFO - [OK] Template routes registered at /api/v1/templates
2026-01-18 15:25:00,247 - main - WARNING - [WARN] Signals routes not available - signals intelligence disabled
2026-01-18 15:25:00,254 - main - INFO - [OK] Streaming routes registered at /api/v1/ws
2026-01-18 15:25:00,275 - rate_limit - INFO - Rate limiting enabled: 60 req/min, 1000 req/hour
2026-01-18 15:25:00,276 - main - INFO - ============================================================
2026-01-18 15:25:00,276 - main - INFO - Starting Kraftd Docs Backend
2026-01-18 15:25:00,276 - main - INFO - ============================================================
2026-01-18 15:25:00,276 - main - INFO - Configuration valid - Timeout: 30.0s, Retries: 3
2026-01-18 15:25:00,277 - main - INFO - Initializing Azure Cosmos DB...
2026-01-18 15:25:00,277 - services.secrets_manager - INFO - Running in development mode - using environment variables for secrets
2026-01-18 15:25:00,277 - main - WARNING - [WARN] Could not initialize Cosmos DB: Secret 'cosmos-endpoint' not found in Key Vault or environment variables. Set COSMOS_ENDPOINT environment variable or configure AZURE_KEYVAULT_URL.
2026-01-18 15:25:00,278 - main - INFO -       Continuing with fallback mode (in-memory storage)
2026-01-18 15:25:00,279 - main - WARNING - [WARN] Azure Document Intelligence is NOT configured
2026-01-18 15:25:00,279 - main - WARNING -       Set DOCUMENTINTELLIGENCE_ENDPOINT and DOCUMENTINTELLIGENCE_API_KEY
2026-01-18 15:25:00,279 - main - INFO - [OK] Upload directory exists: /tmp/kraftd_uploads
2026-01-18 15:25:00,280 - main - INFO - [OK] Upload directory is writable
2026-01-18 15:25:00,280 - main - INFO - [OK] ExtractionPipeline initialized and ready
2026-01-18 15:25:00,280 - main - INFO - [INFO] Cosmos DB not initialized, export tracking in fallback mode
2026-01-18 15:25:00,280 - main - INFO - ============================================================
2026-01-18 15:25:00,280 - main - INFO - Startup Configuration:
2026-01-18 15:25:00,280 - main - INFO -   Request Timeout: 30.0s
2026-01-18 15:25:00,280 - main - INFO -   Document Processing Timeout: 25.0s
2026-01-18 15:25:00,280 - main - INFO -   Max Retries: 3
2026-01-18 15:25:00,280 - main - INFO -   Rate Limiting: Enabled
2026-01-18 15:25:00,280 - main - INFO -   Metrics: Enabled
2026-01-18 15:25:00,280 - main - INFO -   Cosmos DB: Fallback mode
2026-01-18 15:25:00,280 - main - INFO - ============================================================
2026-01-18 15:25:00,281 - main - INFO - Startup completed successfully
2026-01-18 15:25:00,281 - main - INFO - ============================================================
