# Staging Environment Configuration
# KraftdIntel Backend - Staging Environment Variables

# ============================================
# ENVIRONMENT SETTINGS
# ============================================
ENVIRONMENT=staging
DEBUG=false
LOG_LEVEL=info

# ============================================
# API CONFIGURATION
# ============================================
API_TITLE=KraftdIntel API (Staging)
API_VERSION=1.0.0
API_DESCRIPTION=Intelligent procurement document analysis platform - Staging
API_DOCS_URL=/docs
API_REDOC_URL=/redoc

# ============================================
# SERVER CONFIGURATION
# ============================================
HOST=0.0.0.0
PORT=8000
WORKERS=4
RELOAD=false

# ============================================
# SECURITY & CORS
# ============================================
# Allowed origins for frontend requests
ALLOWED_ORIGINS=https://staging.kraftdintel.com,http://localhost:3000,http://localhost:5173,https://staging-kraftdintel.azurestaticapps.net

# JWT Configuration
JWT_ALGORITHM=HS256
JWT_SECRET_KEY=your-staging-secret-key-change-in-production
ACCESS_TOKEN_EXPIRE_MINUTES=60
REFRESH_TOKEN_EXPIRE_DAYS=7

# ============================================
# DATABASE CONFIGURATION
# ============================================
# Option 1: Azure Cosmos DB (Production Staging)
COSMOS_ENDPOINT=https://your-cosmos-staging.documents.azure.com:443/
COSMOS_KEY=your-cosmos-key-here
COSMOS_DATABASE=kraftdintel_staging
COSMOS_CONTAINER=documents

# Option 2: Local Cosmos Emulator (Development Staging)
# COSMOS_ENDPOINT=https://localhost:8081/
# COSMOS_KEY=C2y6yDjf5/R+ob0N8A7Cgv30VRDJIWEHLM+4QDU5DE2nQ9nDuVo+2xNqaC8h/RVi12NewNQYoNkVRZo0v6a7t1E==

# ============================================
# RATE LIMITING
# ============================================
RATE_LIMIT_REQUESTS=60
RATE_LIMIT_PERIOD=60
RATE_LIMIT_ENABLED=true

# ============================================
# EMAIL CONFIGURATION (SendGrid)
# ============================================
SENDGRID_API_KEY=<REDACTED - set via GH secret SENDGRID_API_KEY>
SENDGRID_FROM_EMAIL=noreply@staging.kraftdintel.com
SENDGRID_FROM_NAME=KraftdIntel Staging

# ============================================
# DOCUMENT PROCESSING
# ============================================
MAX_FILE_SIZE_MB=50
ALLOWED_FILE_TYPES=.pdf,.docx,.xlsx,.txt,.pptx,.jpg,.jpeg,.png
DOCUMENT_STORAGE_PATH=/tmp/documents
DOCUMENT_PROCESSING_TIMEOUT=60

# ============================================
# AZURE DOCUMENT INTELLIGENCE (Optional)
# ============================================
DOCUMENTINTELLIGENCE_ENDPOINT=https://your-doc-intel-staging.cognitiveservices.azure.com/
DOCUMENTINTELLIGENCE_API_KEY=your-doc-intel-key-here
DOCUMENTINTELLIGENCE_MODEL=prebuilt-layout

# ============================================
# AI & ML CONFIGURATION
# ============================================
AI_ENABLED=true
ML_MODEL_VERSION=v1.0
CONFIDENCE_THRESHOLD=0.75

# ============================================
# MONITORING & LOGGING
# ============================================
LOG_FORMAT=json
ENABLE_METRICS=true
ENABLE_TRACING=true
SENTRY_DSN=your-sentry-dsn-for-error-tracking

# ============================================
# CACHE CONFIGURATION
# ============================================
REDIS_ENABLED=false
REDIS_URL=redis://localhost:6379/0
CACHE_TTL_SECONDS=3600

# ============================================
# FEATURE FLAGS
# ============================================
FEATURE_EMAIL_VERIFICATION=true
FEATURE_PASSWORD_RECOVERY=true
FEATURE_AI_ANALYSIS=true
FEATURE_DOCUMENT_TEMPLATES=true
FEATURE_ADVANCED_ML=true

# ============================================
# DEPLOYMENT METADATA
# ============================================
DEPLOYMENT_ENV=staging
DEPLOYMENT_DATE=2026-01-18
DEPLOYMENT_VERSION=1.0.0
